# 史上最强Linux入门教程，杨哥手把手教学，带你极速通关红帽认证RHCE（更新中） - P9：9.Bash Shell基础特性之历史命令 - Linux杨哥天云 - BV1FH4y137sA

![](img/64b5e19e0889dfc504aade55a545cdd5_0.png)

那接下来我们来看一下ash的另外一个特性，叫做历史秘密，那比如说我们想查看某个用户的，曾经在这台机器上面有过哪些操作，比如说过哪些秘密，这个手机跟密室命令相关系，逆时命令既可以看，帮我们来溯源。

也可以呢来重复使用，所以在办事下面，人历史命令的使用呢也是非常重要的，首先我们可以使用history这个命令来查看历史命令，每一个历史命令前面的都有一个编号，后面还有一个就是具体的命名令啊。

我们有多种方法来对历史命令进行复用，比如重复使用一种呢，就是如果那个命令刚刚出现不久。

![](img/64b5e19e0889dfc504aade55a545cdd5_2.png)

就可以按照按照上下键来快速找到，你要用的那个历史命令，我现在按上上键。

![](img/64b5e19e0889dfc504aade55a545cdd5_4.png)

它出现的是这个命令，那我再往上的话呢，IOS再往上是那个再往上再往上也可以往下。

![](img/64b5e19e0889dfc504aade55a545cdd5_6.png)

当然找到以后呢，你也可以进行重新编辑，不是说非得就是就着它用啊，那除了这个上二键以外，还有呢就是一个叹号，这个符号这个符号后面可以跟两个东西，一个是跟上这个数字，这个数字在哪呢。

比方说我们看到的是R7这个数字，它代表的是每一条历史命令呢会有一个记录，第二呢给它一个字符串，这是两种比较常用的一个方法，好，那比如说我们现在呢来跟上这个数字，试一下叹号29啊，回车以后呢。

他会把这个29这个命令重复执行一次，看他告诉我们了，直径的WC啊，杠L然后是e DC password，这个37，别误会，这37是什么，是这个命令执行以后显示的这个结果，一共是三三十七行吗。

好这是后面跟上一个数字，那也可以跟上一个字符串，那我们看一下这跟上一个字符串怎么跟的啊，同样我们显示一下，首先叹号，比方说他要各位找一下，它会执行你的命令，二七这个命令呢和40这个命令呢都有tile。

都是看文件的最后几行，但是不同的是二七是五行，这个是十行，那我这条命令并没有指定是27还是40好，那我回车大家看到的是十行吧，为什么呢，他找到的是最近一个以这个字符串开头的命令，从这往往前找最近的。

大家明白了吗，这是那个沙剑和叹号的方式，这个下面呢，我给大家展示一个很特别的一个历史命令用法，我们现在制造一个场景，各位看啊，我现在先LS一下etc con tag network。

这个文件我先看一下啊，现在我们先不管它到底是历史名令哪一条，我们现在就想干嘛呢，我给大家展示一下，看看效果，哦我的视频没有剪辑，大家看到直接就出来了，为什么呢，我按了一个快捷键叫ESC。

我是输到屏幕上的ESC，然后加上点儿，我按了这两个键，看我再按一次ESC加点，它会直接调出上一个命令的最后一个参数，如果上一个命令有好多参数，我们再来再来这个演示一下啊，好IOS。

比方说etc password，还有EDCI的csconfig at work，有小伙伴们可能就有点懵啊，我给大家解释一下，本来是IOS这个文件，但是后面呢我空格加了第二个参数啊。

注意这一历史空格不是埃及的，这是两个文件，相当于呢我同时显示了一下，这两个文件的一个信息，那下面呢我们比如要cat一下，没人说一定是cat啊，这跟电mini没关系，我们ESC加点，那他会补全哪一个呢。

该看到的是他立马就把那个mini给调出来了，所以这个用的非常的爽，那下面呢我给大家讲一个特别有用的方式，一个快捷键就是CTRL加R2，请大家注意前面的提示符变了，不再是那个dollar符号。

也不再是什么井号，它变成了一个什么一个搜索的search的一个东西，这个时候就进入到了历史命令的，搜索的这样一个状态，这个时候很灵活，你只要能打出历史命令当中的某一段，比如说那我们就近的这个啊。

你看这条mini很长，我就记得face这这几个字母，我如果打cs会发生什么，各位看SYS，他直接把推进一个包含cs的命令展示出来了，如果说你发现好像不是这条，你可以再多打几个字母标，CEO好回车以后呢。

如果你要的就是这条mini，那正好就合适了，也就是说CTRL加R的话呢，它支持从历史命令当中去搜索，历史命令当中任意的字符都行，但是你搜的这个内容必须是连续的啊，好。

这就是我们在办事下的一个历史命令的用法好，也就是插件，还有呢就是叹号的方式，还有就是history查看，还有就是我们的那个ESC加点，另外一个就是刚才提到的这个CTRL加R去搜索。

这是一定要大家去活用的。

![](img/64b5e19e0889dfc504aade55a545cdd5_8.png)