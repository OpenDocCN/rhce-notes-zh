# 2021全新 RHCE8.0 红帽认证入门教程——可零基础入门学习【网络安全／Linux】 - P40：Day07_RH134_Ch07a_LVM创建 - IT老表哥 - BV1444y1h7Bx

呃，我们回来啊我们回来。刚才我学员提了一个问题，能不能多挂载点，挂载挂在同一个就多多个分区挂载在同一个挂在点上。理论上是可以的，你也看也挂载到了。但是呢我想问你到底是个挂载点。

我写在哪个写的写哪个分区内容？我不知道啊，对不对？所以的话我建议大家规避一下哈，同宅我也没这么操作过。😊，我们分门别类建建目录，然后每个去挂载指定的一个设备就可以了。不要乱挂。你像这种的话。

我到底我写我我我在里面踏出一个文件，到底写在哪个磁牌，我不知道，对吧？能明白不？不要这么不要这么搞啊，这么搞的话，到时候会搞出事的。实验室你的实验环境怎么搞都行，但是千万不要这么搞啊。

在时间场环境千万不要这么搞，我怕了。

![](img/cd60b3244398b937491fbe8ee5ec73e7_1.png)

好，我们讲今天的第六部分啊，我看下还有其他问题要讲吗？

![](img/cd60b3244398b937491fbe8ee5ec73e7_3.png)

GPT啊就还有一个刚才我们群里面说的啊，还有一个。GGdi啊，我们同样啊wi分区我们任何都可以。但是麻烦大家，你们看你们在分区之前看一下F disk杠L，看一下我们到底这个磁盘用什么分区表。



![](img/cd60b3244398b937491fbe8ee5ec73e7_5.png)

懂我意思吗？可以，后面可以更分区名字的啊。对以跟我们的词我们的磁盘名字，对不对？像N一是用的是。

![](img/cd60b3244398b937491fbe8ee5ec73e7_7.png)

dos对不对？我们的disable types dos，对不对？像N2也是do这3。就是GPT了。所以的话我们根据磁盘来，根据磁盘它的那个。di label type的类型，我们词文标签的一个类型。

来进行操作啊，不要乱啊，不要说到时一会儿do死，然后你把它弄成GPT，它整个分区表就没了，懂我意思吗？懂我意思吗？不要乱来啊，明白的打个一啊。😊，真的不要乱来。

我们今天呢我们还有一个内容讲LVMLVM我们的逻辑券管理啊。看一下。

![](img/cd60b3244398b937491fbe8ee5ec73e7_9.png)

什么鬼？为什么根目录都写在M一下，对不对？MDdata一我单独的一个挂载点啊。我单我单独的一个挂载点缀，有根分区，我是它是这个root是吧？下面的H1root。下一层嘛，你可以往下往下走，对不对？

往下走的P2里面往下走，对不对？我分区里面我可以建。是吧。可以往下走的，但这就是整块磁盘挂，这是一个部分啊。就P2的一个分区会分两个部分，一个一个放在swe，一个放root，对不对？也是可以的，对不对？

有没有问题啊？你分区可以画快的嘛，你可以作为一个软111个，它是1个LVN看到没有？我分区是不是可以没可以做做LVM这是我们将来讲的我们接下来讲内容。一个分区里面我可以做一个磁盘。

我可以做分区里面可以做逻辑卷，对不对？做我们可以做物理卷，物理卷变成卷组是吧？多个物理卷可以合并成一个卷组，卷组然变成逻辑卷。所以的话你要注意它是1个LVM。它这个不是一个part啊。

这是1个LVM码情绪。part是证明它的类型是一个分区类型，但是我们的。我们这我们在那个root这里是1个LVM啊，对不对？逻辑卷。



![](img/cd60b3244398b937491fbe8ee5ec73e7_11.png)

所以这个我们接下来我们来讲讲逻辑券的事啊，我们盘一下逻辑券那些事儿叫logicalical volume manager啊，逻辑券的管理。那逻辑券呢我们有几个概念。罗健啊。这是第一个定义。

马娟娟的意思马娟娟其实就把罗辑轩跟分区混一谈了。他的优势在哪？第一个。可以在线调整分区大小。对吧。就是灵活嘛，我会灵活分配。然后也可以实现冗余。就比如说我LBM我其实可以做一个。

软件的软件级别的read对吧？能明白吗？LBM的一个一些优势，我可以按需来，我来在线调整啊。不需要把它卸载掉，不需要把它那个怎么样。但在线调整的话。还是要注意仅限于增加你的删除的话。

你这些你删除减小的话，还是要把把这个对应卷离线的，懂我意思吗？不是像我们普通的磁盘，我们定了就要调整大小很难，对不对？好，我们来看一看。一些。专业专有名词。重要名词。首先我们来看一个。分区都应该知道啊。

分区是吧，我们分区是吧，我们可用于读写的一个快设备，我们简单理解。还有接下来就是。P我们的。我们的PV是吧，物理卷physical volume。专圈我们打那个物理卷标记之后，可以成为个物理卷啊。

物理卷它是一个是卷组的组成单位。懂吗？卷组组成单位。然后接下来就是这个卷阻。就相当我们这一个存储池来看。多个物理一个或多个物理卷。可以形成一个。存储池简称卷组。懂吗？

多个多个物理卷是不是有可拼成一个拼成一个词，对不对？No后。还有1个LV我们的。

![](img/cd60b3244398b937491fbe8ee5ec73e7_13.png)

逻辑卷。在卷组中创建啊呃在格通过经过格式化和挂载之后。可以读写跟处理数据，对不对？所以的话他是我觉得我们要建逻辑券的一个过程。是这样子的。我看下有没有个图啊，如果有个图的话，我就方便说了。

我就一个简拿一个简单的图吧。这图够清晰了吗？这个图够清晰了吗？对吧我两个磁盘，我我比如说我整块磁盘。

![](img/cd60b3244398b937491fbe8ee5ec73e7_15.png)

或者是我磁盘里面的一个分区，我可以作为一个物理卷，对吧？打标签作为一个物理卷。然后我这里物理卷我可以多给件合合成合成一个卷组。然后卷组里面再划分逻辑卷，然后每个逻辑卷用于。

单独的格就单经过单独的格式化文就挂载之后，我们可以存储数据，对不对？实现不同的一个功能，也就是相相当于我们把存储进行一个整合，把把所有的。比如说我们硬盘一多的话，把我们硬盘。

是吧从把我们存储这些重新整合之后，我们再重新划分，对吧？这样也方便我们的一个管理。而不是说以前文玲散的，其实它的类它其实就相当于我们一个类似于我们一个磁盘阵列，对吧？



![](img/cd60b3244398b937491fbe8ee5ec73e7_17.png)

类似情境主什么的还不一样啊。这个能理解吗？可以理解吧？各位啊，如果可以理解后，我们来开始做一个。卷逻逻辑卷这个逻辑卷，然后我们来挂载。好吧，我们现在再进行一个操作。我们现在的话，因为我们的MVN12。

已经有三个主分区了。那么接下来我也顺便讲一个，我们要创建扩展分区和逻辑分区啊，顺便讲一下。

![](img/cd60b3244398b937491fbe8ee5ec73e7_19.png)

我们接下来讲1个LVM的创建过程。

![](img/cd60b3244398b937491fbe8ee5ec73e7_21.png)

先讲创建，后面再讲我们如何去再线调整它。LBM的创建过程，我们以。在DVMVME2。0N2这个磁盘。我们可以把整块瓷盘作为PV，但是我这里以分区来做，好吧。我一整块我我们就不把整个磁盘作为PB了。

因为太浪费，我们以分区来做来。

![](img/cd60b3244398b937491fbe8ee5ec73e7_23.png)

首先，创建分区。戴纳P5GP6。我创建两个分区吧。好。F disk杠L。我们当然后DVNVM120N2P2是是当前已经。有。And那啊。这已经有不叫P3的，对不对？赢到披萨对不对？

所以到现在我们要创建一个扩展分区。因为主分区。已经。有3个，接下来需要创建扩展分区。不然的话，你主分区你经你最最多就只有一个空间了。因为它是1个MBR懂吗？它是1个MBR，不是1个GPT啊。

所以呢让我们来。F disk。好，然后呢我们按按这里选一哈in。然后把所有的空间全部15个G全部给扩展分区。好吗？因为你扩展分区，如果你用不，你只能在扩展分区内创建逻辑分区。懂我意思吧？

只能在扩展分区内创定逻辑分区。

![](img/cd60b3244398b937491fbe8ee5ec73e7_25.png)

所以的话我们就不如把所有的分分区分给他。分完之后呢，我们继续按。然后这下的话怎么all primarypartU，所以他自己帮我们加了一个。low最话选5，对不对？



![](img/cd60b3244398b937491fbe8ee5ec73e7_27.png)

那fi set不变，然我们。每个分区。我们假设我这里我也给一个给一个G吧。那我再创建一个到6了，对不对？所以有一句话就是我们行列所知道的逻辑分区，永远的编号永远从5开始。逻辑分区的编号永远从五开始。

就是来源这个懂吗？在MBR的时代，邮辑分区的编号永远从五开始。这里还是一个G。好，W。对吧他 fail to end。

因为 system of resource is device or resource is busy啊。



![](img/cd60b3244398b937491fbe8ee5ec73e7_29.png)

然后现在我们part problem，我来我来把它那个。

![](img/cd60b3244398b937491fbe8ee5ec73e7_31.png)

把它加载。

![](img/cd60b3244398b937491fbe8ee5ec73e7_33.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_34.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_35.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_36.png)

然后接下来我们要。接下我们把它趴的pro先。好像是要重启，对不对？USBOK我看一下。好像是要重启一下的，不过重启我不知道系统会不会起不来啊。因为刚才那一个一个。😊，没事没事。

他现在还在一直在用那用我们旧的那些啊。こあのね。啊。我看一下看有没有问题啊。有点怕，老爷。😊，我我快照。不过快照还好，没什么事情啊，我看一下。啊拿烟了。没事，我有快照来，这时候快照我就发张用场了。



![](img/cd60b3244398b937491fbe8ee5ec73e7_38.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_39.png)

回车就拿野。没事啊，我创建几个盘就行了。

![](img/cd60b3244398b937491fbe8ee5ec73e7_41.png)

又回来了。因为刚才pa动到分区了啊，所以真的pat不能乱用啊，好吧。好了，我这里重新把磁饭建建一下。

![](img/cd60b3244398b937491fbe8ee5ec73e7_43.png)

要只一个磁牌，我重新建一下。

![](img/cd60b3244398b937491fbe8ee5ec73e7_45.png)

要关机。

![](img/cd60b3244398b937491fbe8ee5ec73e7_47.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_48.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_49.png)

我加一块瓷盘就好了。对吧我加个1万就好了。因为我现在我其他都不我觉校不用讲，我直接就讲逻辑卷吧。😊。

![](img/cd60b3244398b937491fbe8ee5ec73e7_51.png)

🎼就我是需要螺尖就行了。那我这里有加一个盘。

![](img/cd60b3244398b937491fbe8ee5ec73e7_53.png)

对吧我把刚才步骤重新换图贴一下就行了。MVMB20G。再加一块。然后开心。

![](img/cd60b3244398b937491fbe8ee5ec73e7_55.png)

我就为刚才我直接跳过swepe这些，我就直接建一建我就直接建逻辑分区了。好吧，那那就相当于我们把这个同步了。



![](img/cd60b3244398b937491fbe8ee5ec73e7_57.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_58.png)

好，起来了。还是这里啊，我们看一下磁盘。F disk。按L是不是？我们添加了新2块磁白，那我就MVM0N2吧，还是它。嗯。我直接创建一个一。20GB对不对？我模拟刚才的一个情况。Love siter。

一个G对不对？哦，不对。对的吧。那我们看P一下是不是MVM5跟6。那我们W对吧？然后我们LBO可以看一下。45跟6都有了。



![](img/cd60b3244398b937491fbe8ee5ec73e7_60.png)

你看起死回生啊。这就是快照的一个威力。好，我们看到我们有那个5个6出来了。那我们接下来第二个我们要。物理卷对不对？第二个是要创建物理卷，创建PV。创业PV操作呢就是PEV有个命名叫PVc。

对吧PVcre，然后直接。第一V我要多就多少个就打多少个啊。也可以，我我可以也可以通过我们的那个。扩展对不对？我们的通配服。MVM10N2P，然后这里。56对不对？我也可以，对不对？

这样的话我们通就把物理卷创建好了。然后我们查看啊。PVS或者PV display都行。或者PP scan都可以。最详细的PV scan也行。它已经是自种转换成AVM格式，其实它就在前面打了一个标记而已。

就就打了一个如物理卷的一个标记。懂我意思吗？

![](img/cd60b3244398b937491fbe8ee5ec73e7_62.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_63.png)

PVS是吧。PV scan， P display。还有。PVscape都可以。

![](img/cd60b3244398b937491fbe8ee5ec73e7_65.png)

他有自己的UID哈。

![](img/cd60b3244398b937491fbe8ee5ec73e7_67.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_68.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_69.png)

然后像。

![](img/cd60b3244398b937491fbe8ee5ec73e7_71.png)

如果是删除的话，就是PVre。为莫夫啊。不过这个命令我就不演示了啊，因为我们现在要往那个创建逻辑卷的一个过程，我们去推进。



![](img/cd60b3244398b937491fbe8ee5ec73e7_73.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_74.png)

然后接下来。我们逻辑卷完是不是创进卷组了？对吧。我物理卷完是不是放进卷组了？我们这里呢。可以按照默认的一个卷P1，我们有一个叫物理单元啊，物理单元就是我们的一个逻辑卷的一个我们卷组的一个存储区块大小。

所以这里我补一下叫1个PV。

![](img/cd60b3244398b937491fbe8ee5ec73e7_76.png)

1个P1个LE。然好1个L1。

![](img/cd60b3244398b937491fbe8ee5ec73e7_78.png)

我们补这两个的概念在这里啊，我接下来PV啊VG。

![](img/cd60b3244398b937491fbe8ee5ec73e7_80.png)

用什么VGcate这个命令啊。我们如果不带默认的话，它是以四兆啊，每个区块4兆来定义。如果带杠S参数的话，我们可以定义我们的区块大小。在这里我就不不定一些。VGc，我们现在有两个物理卷，对不对？

我要创建一个卷组。我们卷组叫做。VG0可以吗？叫VVG0。也就我们的V区的名字，就种卷子名字。然后后面你是跟的是物理卷的。你你要你要哪一些物理卷加入到里面？我讲两个。然后如果加S杠S的话。

就是我PE的一个大小。默认也是默认是4兆。我们这里可以自己定义啊。

![](img/cd60b3244398b937491fbe8ee5ec73e7_82.png)

对吧这里的话我们是定义了我们的那个。PE的大小。

![](img/cd60b3244398b937491fbe8ee5ec73e7_84.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_85.png)

其实LE的话，它是一个区块数啊。好，我们创建完一个逻辑券之后，但这个杠S我可以不带的。如果题目没错话，我们可以不带，然后查看VG呢，如何查看。VGFV scanV displayplay都可以。

都可以啊，我看一下。我么微距的话，它有原包含原来的H也有那个啊。他就这我们原来系统安装的时候，他就默认帮我们创了一个VG的。



![](img/cd60b3244398b937491fbe8ee5ec73e7_87.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_88.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_89.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_90.png)

对吧然后呢，如果要删除呢。PVVGremove。懂吗？这可以明白啊，然后接下来我们讲LV，我们在卷组上面我们就可以创建每一个个逻辑卷了。



![](img/cd60b3244398b937491fbe8ee5ec73e7_92.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_93.png)

创建逻辑券。我们可以啊用LV，我们直接指定大小或者是。直接。用PE的数量对吧？数量来弄啊，比如说我这里的话，我创建两个逻辑卷。看一下LV creator。杠大L我们指定我们大小，比如说这100兆。

然后呢，前面后面跟着是我们的。我们逻辑证明是吧？LV1。

![](img/cd60b3244398b937491fbe8ee5ec73e7_95.png)

我刚才是创着一个叫。我们刚才创建了一个叫VG0的对吧？那我们现在1个LV0好不好？

![](img/cd60b3244398b937491fbe8ee5ec73e7_97.png)

IV0，然后大小是100兆。然后呢，后面是跟的是卷组名，就是从哪一个卷组创建的？记得这里叫加杠N哈，有个名字杠N对吧？带我们的。卷逻辑卷名逻辑名，然后后面带卷组名。或者是用单元是吧？

单元我刚才创了4兆一个。那比如说我创建一个。30对不对？我的。数目37，我们的PE数，我们P1的数量乘以我们的个数。我的L我们我们的那个。L一的数量啊，这是LE啊LE的数量乘以PV的大小等于总容量。

懂我意思吧？然后我们的名字叫LV1。两种创建方法都可以。

![](img/cd60b3244398b937491fbe8ee5ec73e7_99.png)

这是大小。这是名字。然后这里是一个。卷祖名。懂吧，从哪一个卷组创建逻辑券，然后下面的这个呢。这是P1的个数。LV。LE锤P啊。



![](img/cd60b3244398b937491fbe8ee5ec73e7_101.png)

我结束结完了来。两种做法都可以。然后呢，如何查看？同样三条命令。LVS。对吧。LV scan。Hell be displayed。三条命令可以查看。



![](img/cd60b3244398b937491fbe8ee5ec73e7_103.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_104.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_105.png)

evervis is display就有点长了啊。

![](img/cd60b3244398b937491fbe8ee5ec73e7_107.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_108.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_109.png)

甚至有很多详细信息的。然后下面这个是原本的系统里面我就不截图了。然后呢。

![](img/cd60b3244398b937491fbe8ee5ec73e7_111.png)

删除LV。LVremo也是一样啊。

![](img/cd60b3244398b937491fbe8ee5ec73e7_113.png)

然后接下来。就是。格式化挂载了是吧？我们创建完LV，是不是它就可以用来格式化跟挂载了？

![](img/cd60b3244398b937491fbe8ee5ec73e7_115.png)

对不对？

![](img/cd60b3244398b937491fbe8ee5ec73e7_117.png)

我们刚才到第到LV第五波。

![](img/cd60b3244398b937491fbe8ee5ec73e7_119.png)

我们现在它也可以，我们直接格式那个DVD就是我们路径是DV，然后它的卷组名再到逻辑卷名，懂吗？push map也是可以的。我们看看下LBOK。也可以这样子，对不对？设备名就是这种的话，就刚才。

马娟就同学说的一种形式了，对不对？对吧。好，我们。可以这样，我们来格式化了。格式化。MKFS比如说全部叉FS吧，我一个格式ES叉FS一个格式EST4。我因为待会我说一下怎么扩容的问题。

MKFS点叉FS然DV。会我可以写这样子是吧？VG0LV0。对吧。那我也可以。我看mP有没有啊。map我这样子也行。对吧两种形式都可以。



![](img/cd60b3244398b937491fbe8ee5ec73e7_121.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_122.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_123.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_124.png)

那格式化完自然就挂载的冠撸矩咎，我干什么用啊？对不对？这条是挂载。我直接写FSt吧。

![](img/cd60b3244398b937491fbe8ee5ec73e7_126.png)

挂载呢。

![](img/cd60b3244398b937491fbe8ee5ec73e7_128.png)

我们通常是用UID去挂是最好的。你看。VID全出来了，对不对？不用挂载用mle去挂，或者是用那个。用我们的UID去挂啊。我是直接UID吧。最保险呢。把银行去掉。我这里也可以写刚才那两种格式都没有问题。

然后呢。我这里我的挂载点我还没写啊，我这个就下载一个，比如说我的LVLV0对吧？MTLV0，我这是这这是LV0来的。M04叉FS。Default。0-0，然后下1个UID。短一号去掉。上面怎么写。

我就怎么一入糊涂画瓢。😊，MNT。LV1。这里是一叉第4。Default。你你。

![](img/cd60b3244398b937491fbe8ee5ec73e7_130.png)

![](img/cd60b3244398b937491fbe8ee5ec73e7_131.png)

建议大家用UID去挂。因为这样的话，我因为设备的唯一标识，所以的话不会出错。然后保存退出退出话，我们记得创建两个目录，不然它挂在点都不存在。



![](img/cd60b3244398b937491fbe8ee5ec73e7_133.png)

对吧猫腿刚才。所以我们挂上了，对不对？然后呢，通常这个容量不怎么准，没关系，因为在考试里面，他有说了因为计算误差，所以的话他会给定你一个范围。它给电源的范围就是从多少多少到多少多少之间的范围是允许的。

他会这么告诉你，所以的话不用担心说，哎我一明明100兆为什么95，因为他要占用。像像我们像像我们通常的话，我们LV的话，它会减减它前面作为一个标记位，对吧？

一个单元作为一个卷组或者作为一个逻辑就是标记位，所以的话他会少掉4兆，懂我意思吧？少了4兆，所以的话这里是95也是正常的，113也是正常值。没他的问题吧。投试的单位是MIB哈MIB或是GIB。

再插叉MIB。B。考试是有给就有给你一个范围的。你只要在你只要那个你空间落在这个范围里，你就可以了，懂我意思吗？这个就是我们整个LV的我们逻辑卷从一开始分区或者是磁盘。到我们的那个。

到我们这到我们的一个啊逻辑券的一个挂载过程。如果明白的，请扣Y，有问题可以提问。有没有问题？现场。没问题，休息一下，我们稍稍后继续啊，那继续我们讲那个。你不用创击PP也可以的，可以跳过这个步骤啊。

那跳过后，它就是相当于打标记了。但是我们这是按部就班来啊。走吧。最高かな。好，我们休息一下啊。😊。