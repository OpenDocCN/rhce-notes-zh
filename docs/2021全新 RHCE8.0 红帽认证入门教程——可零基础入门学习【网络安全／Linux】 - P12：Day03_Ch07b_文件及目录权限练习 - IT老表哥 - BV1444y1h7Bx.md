# 2021全新 RHCE8.0 红帽认证入门教程——可零基础入门学习【网络安全／Linux】 - P12：Day03_Ch07b_文件及目录权限练习 - IT老表哥 - BV1444y1h7Bx

好，北京时间14点22分，我们进入下午的课程。像我们上午呢留了四道练习题给大家，我们留了四道练习题给大家。那我们现在的话我们先来把上午的问题先解决了。然后我们再讲新课好吗？我们先把在座的都有啊。

如果说啊如果做完了，请打个一，然后再做做完了请举手。一个。没有啊，其他的。只有一个人全做完吗？

![](img/01c6e405fb2077236b9a889fcb63f2b5_1.png)

上我的题目。做完了谁打个一。这边还是好多的，12345678，现场只有一个人做完。9个。又的EF没做，是不是？10个11个。



![](img/01c6e405fb2077236b9a889fcb63f2b5_3.png)

然，我们再看看题目啊，我们来看题目啊。我来看一下题目，我们这里5678，我们这里重新调1234啊，1234，我们看题目。首先我们看一下啊创建用户组及用组的关系啊，这里有一D一题有分5个要求。

我先把题目给大家讲啊，这样的话大家就相当于我们复习的上内容跟我们之前内容。首先我们要创建一个叫 user的组组ID11802。然后andy这用户呢将它作为附属组。

然后然后呢ba来这用户也是将它作为附属组。其的用户呢不属于它，然后它需要是不可登录单位码均为这个啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_5.png)

那我们来。几将命令打发掉。us add我们附属组是不是杠大？我们我们是group add，对不对？先创建一个组。然后干了。我杠G对不对？左ID11802对不对？对吧然后呢，我们创建这个用户作为复属组。

那UCI这杠大G是复苏组，小G是主要组啊，杠大G啊。🎼然后后面改一下ba了。然后不可登录这个sell呢，我不属于他其他组，那我们就不用设其他组了，那我们就直接是吧？

be false或是SB not in都对。对吧然后。修改这三个密码，我用A口命令。还记得我写的吗？

![](img/01c6e405fb2077236b9a889fcb63f2b5_7.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_8.png)

这题搞定了。步骤就是这样，这个题就搞定了。

![](img/01c6e405fb2077236b9a889fcb63f2b5_10.png)

对吧主要是一个附属组，对吧？我的主要建立起来，然后我附属组前两个，第三个是sharell类型。然后呢，接下来就是设置密码，懂了吗？



![](img/01c6e405fb2077236b9a889fcb63f2b5_12.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_13.png)

这个腿我贴到这里。

![](img/01c6e405fb2077236b9a889fcb63f2b5_15.png)

这些题目就是。

![](img/01c6e405fb2077236b9a889fcb63f2b5_17.png)

两分钟内的事情吧，如果熟的话，懂我意思吗？

![](img/01c6e405fb2077236b9a889fcb63f2b5_19.png)

这道题如果懂的话，请打一个一哈，先请打一个。请打是我们的不是是我们的汉字音啊，因为上面的话都先不不不不不不，我先把这个隔开来来，这道题会的，请打一啊。数字一。那我们看看第四题，第四题很简单，对吧？

创建跟用户，我们跟着再来做就行了。

![](img/01c6e405fb2077236b9a889fcb63f2b5_21.png)

user add杠U指定UID。他的UID号是21802。然后呢。

![](img/01c6e405fb2077236b9a889fcb63f2b5_23.png)

ownner是吧，然后同样设置密码给他。

![](img/01c6e405fb2077236b9a889fcb63f2b5_25.png)

搞对。对吧。搞定。第四题搞定了。那接下来我们看后三题。

![](img/01c6e405fb2077236b9a889fcb63f2b5_27.png)

第二题先。

![](img/01c6e405fb2077236b9a889fcb63f2b5_29.png)

跟上一题有关哈，复制制VR log message到TMP目录里面。必该要求配置这个TNPmessage的权限，对吧？那我们按照看家要求来看，所属属。所属人啊所属这所有者为root哦。

这档案所有者会更合适一点。然后所属组也为root，然后对任何人没有执行权限是吧？然后这这两个第一呢。第一呢第一呢主要是那个就特定用户的权限问题。我会讲一下什么叫就如何设定特定用户权限。

这个一句话带过就可以了。就一句话带过，这是知识点来的。然后呢，它是对读有读的权限，然后对对那个的话既不能读也不能写。然后其他用户呢包括未来用户对这个文件有读跟写的权做读个权限。那我们做题边做。

我们边讲这个知识点。首先我们要复制一个VR log message，对不对？到填平目录下，对吧？然后呢，我们接下来我要看一下我们的。



![](img/01c6e405fb2077236b9a889fcb63f2b5_31.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_32.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_33.png)

TP。message对不对？他的所有者跟所有所有你是为root的。但是如果我们要做的话，其实就补修考试的话，你不要看他是就是这样状态，就不要做了，就补一条命令给他change on是吧？



![](img/01c6e405fb2077236b9a889fcb63f2b5_35.png)

这博强命令给他就可以了。一条命令相当于我们完成两个东西。然后呢，对任何人没执行权限。A减X对不对？哦。砍掉X，对不对？



![](img/01c6e405fb2077236b9a889fcb63f2b5_37.png)

无论你要文定什么权限，反正你做回给他就是了。前三个是不是已经完成了，对不对？然后第四个我们讲一个知识点，我们叫做那个对特定用户执行权限啊，补充知识点，我写在上面。



![](img/01c6e405fb2077236b9a889fcb63f2b5_39.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_40.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_41.png)

补充一点啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_43.png)

这原来是在CSA的第七的话，里面是第二本书的内容。我们这里提到这里讲普通支持一个对。

![](img/01c6e405fb2077236b9a889fcb63f2b5_45.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_46.png)

特定用户设置文件文件ACL。

![](img/01c6e405fb2077236b9a889fcb63f2b5_48.png)

就他的访问控制列表，那怎么办？然后然后我先首先先看一下查看啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_50.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_51.png)

查看怎么查呢？这里我补充一下，有电话进来。

![](img/01c6e405fb2077236b9a889fcb63f2b5_53.png)

稍等一下。

![](img/01c6e405fb2077236b9a889fcb63f2b5_55.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_56.png)

好，我回了啊，get FSL。

![](img/01c6e405fb2077236b9a889fcb63f2b5_58.png)

geFACL然后get文件的。

![](img/01c6e405fb2077236b9a889fcb63f2b5_60.png)

AC有列表，然后后面是跟着你的。

![](img/01c6e405fb2077236b9a889fcb63f2b5_62.png)

我们的文件名或文件夹名懂吗？比如说我要看看一下这个文件的一个，就如何查看啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_64.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_65.png)

来。

![](img/01c6e405fb2077236b9a889fcb63f2b5_67.png)

懂吗？这个是我们默认权限，是不是我们的user group的，对不对？但是没有对特定用户设置权限。

![](img/01c6e405fb2077236b9a889fcb63f2b5_69.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_70.png)

对吧那我们现在题目有要求，就对那个andyella设置TMP messages读跟写的权现在我们看怎么做。



![](img/01c6e405fb2077236b9a889fcb63f2b5_72.png)

啊。设置权限是这样子的。

![](img/01c6e405fb2077236b9a889fcb63f2b5_74.png)

如果要递归的话，我们有递归的方法啊，设置的话是这样。setFACL对吧？设置文件的ACL权限。然后呢，格式是这样子。如果你有递归的话，如果是没有没有递归，我们要修改就干M modify，对不对？

还要带一个选项叫modify修改。如果是有那个递归，就是你属项，你要设置整个目录或者是所有的整个文件夹，你就带杠大R的，代表递归，懂我意思吧？我们这里的话就是如果没有的话，我们就就这单个文件就带M。

然后后面跟什么呢？哪一个用户，我们我们设用户的就U是吧？如果是组的话，就G，懂吗？来哪个用户。安y是吧，他要有。



![](img/01c6e405fb2077236b9a889fcb63f2b5_76.png)

什么权限呢？读写。

![](img/01c6e405fb2077236b9a889fcb63f2b5_78.png)

RW对不对？但是他没有执行，我们就可以加一个杠给他，或者是不写也可以，对吧？然后呢，后面各文件名。

![](img/01c6e405fb2077236b9a889fcb63f2b5_80.png)

哦，我对打错了CFACL啊。我们再看一遍。

![](img/01c6e405fb2077236b9a889fcb63f2b5_82.png)

是不是有啊？对吧就针对于这个文件来，这个用户来说，他对这个文件有哪些权限？这针对用户啊，懂我意思吗？

![](img/01c6e405fb2077236b9a889fcb63f2b5_84.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_85.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_86.png)

这里可以复制过来啊。复制过来，我在这里。这是针对文件。懂了吧？针对文件我们这里的话是不是已经有做一个设置，对不对？我这里标一个红色就知道了。对吧然后针对文件，我们那个如果是没有执行权限，就没有权限啊。



![](img/01c6e405fb2077236b9a889fcb63f2b5_88.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_89.png)

他这个对这个文件没有任何权限是吧？我们第二题既不能读，也不能写。

![](img/01c6e405fb2077236b9a889fcb63f2b5_91.png)

那这个文件本身没有执行，那我们这样子。A了，然后这里记得不要留空啊，这里不能留空，不要以为他没有读写，实行就省略了，打回三个横杠给他。代表就没有任何权限，懂我意思吗？那我们再看一看。



![](img/01c6e405fb2077236b9a889fcb63f2b5_93.png)

那么我们还有一个默认权限的那默认权限这个后面我们后面再讲，就讲到这个题的时话，我们先讲这个。对吧我这里我这里标一下红色，就知道知道我们是对哪一个用户，对不对？能看得懂吗？这能看得懂吗？

他这里还有个默认掩码。我们这里就补充一个知识点啊，这个这这里然后呢接下来我们一道题就是那个这个，然后如果如然后待会儿我再补充一个知识点，我们先把这道题讲完这道题，然后对其他人有独有权限，那就对其他用户。

就是包括当前跟未来创建用户，那我们怎么办呢？

![](img/01c6e405fb2077236b9a889fcb63f2b5_95.png)

用简单的命令，用changeO加R就可以了。其他人嘛对吧？要读的权限。那这道题就结束了，我们看一下get back的详细结果，那就是这就是我们需要做的，懂我意思吗？这是第二题。



![](img/01c6e405fb2077236b9a889fcb63f2b5_97.png)

我们完成就行了，没必要说追的太过头。

![](img/01c6e405fb2077236b9a889fcb63f2b5_99.png)

啊，我先到这里啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_101.png)

这道题。有一个地方打错了，我先把它删掉啊。好吗？步骤就是这么多，看起来很长，但其实就没那么两行啊。其实那么两行，我把ge echo这些删掉，然后给大家最看最后结果就行了，不然的话这这也太长了。

对吧我们解题的过程就这样，然后我们继续补这个知识点啊，继补这个知识点这个设置。然后如果是。若是递归啊。递归的话，我们这里的话我们就。我留一条就可以了，这可以吧？我留一条就可以了。针对目录。

如果是地柜的话，我们就把这里改一改。这里就加杠RM啊RM就是代表是第一归啊。杠RA，然后这里没有变。不过这里如果是执行权限，如果有的话。如果有啊如果有执行权限，如果是递归有的话。

我们这里啊要这个差是变成大写的对吧？如果是有的话，然后它是针对整个目录的。走吧，整个目录的就这么写。针对目录就是针对目录。然后如果要。我看一下啊，如果要删除。删除的话就是改一下，删除我们是用杠B。

然后这前面都什么都不用啊，删除用杠B。

![](img/01c6e405fb2077236b9a889fcb63f2b5_103.png)

就可以了。我们可以看一下s的hel就知道了。

![](img/01c6e405fb2077236b9a889fcb63f2b5_105.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_106.png)

对吧杠B是remove all删除所有啊，杠X是删除一一条记录。这有没会不会看帮助？现在。会不会他帮助？啊，这里已经有写了，杠M是modify，对不对？删除单调记录。是那个sical杠。乘X。

或者是杠removeify也可以。对吧或者是你杠杠。Remove。Fire。对啊，你可以去一一般是杠小叉啊，杠小叉直接直接移就行了。按小叉就可以了，我写写常用法。然后如果是删除所有记录。删除所有记录。

那就是杠B，对吧？杠B删除所有的关于这个规则记录。

![](img/01c6e405fb2077236b9a889fcb63f2b5_108.png)

然后杠K呢，我们还有一个叫做默认ACL。默认ACL的话，这里的话我们不多啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_110.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_111.png)

就杠低哈，设置默认ACL也就是他默认权限，也就是它默认L什么意思呢？它就是不它就是定义我们最大的一个权限，最大懂我意思吗？删除它的单条的ACL记录，就是针比如说你针对于一个用户的访问权限。

就是要删除这个条目，对吧？像这条像这条目就杠X嘛，就删除一条，删除删除删除那就移出那个入口。那如果要删除所有的所有的就是说你所有设置的，你就杠B。



![](img/01c6e405fb2077236b9a889fcb63f2b5_113.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_114.png)

就可以了。对啊，清不要，清空这个权限。就所有的呈现。那还有一个默认的。还有一个默认ACL。诺ACL的就它是它是定义啊。定义啊，我们当前用户。对于文件的ACL就访问控制列表的最大值。最大权限。

比如说比如说我们那个默认ACcL就定了这个读写。但是你如果你写执行的话，它并不会生效。懂我意思吗？它只生效一部分，因为他就把我们这个权限也框住了，对吧？比如说默认你读第一个读写。

然后你文件再定个执行的话，它是不会生效这个执行的。它后面会写一个effective，对吧？已生效的是哪一些，它会这么定义的。所以的话我们怎么设置呢？更低哈。



![](img/01c6e405fb2077236b9a889fcb63f2b5_116.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_117.png)

他应该要的啊，比如说比如说顶我比如说指定这个。比如说指这个应该是要的，你可以去试一试。杠S对不对？

![](img/01c6e405fb2077236b9a889fcb63f2b5_119.png)

然后杠D呢是指定默认的啊，默认的。然后后面是那个。后面是权限啊，就默认的这个权限是多多大啊。但是但基本上我们默认ACL会比较少用啊比较少用。



![](img/01c6e405fb2077236b9a889fcb63f2b5_121.png)

然后如果移除呢。设置是这样子，移除是杠K。

![](img/01c6e405fb2077236b9a889fcb63f2b5_123.png)

设置默认。好，我们这里就作为一个扩展知实就可以了，懂我意思吗？这个就是我们针对于一个。

![](img/01c6e405fb2077236b9a889fcb63f2b5_125.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_126.png)

特定用户设置文件的一个访问权限。就刚才我们第二题的第第一点跟第一点啊，如果这道题没有问题，请打啊。有问题，我看看怎么提问啊。单条是指定的啊，删除删除记记录啊。



![](img/01c6e405fb2077236b9a889fcb63f2b5_128.png)

这个问题如果没问题，请答案。因为这个知识点是会考的。就设计默认权限，我们后面会讲，但是但是我这里我就提前先弄了，可以吗？题目答案在这里。对于第三题。组的权限啊。



![](img/01c6e405fb2077236b9a889fcb63f2b5_130.png)

那我们继续做第三题，我们在。

![](img/01c6e405fb2077236b9a889fcb63f2b5_132.png)

🎼创建一个exam use啊，子目录啊，我这里应该我题部写错了，应该是exm嘛，不是examus。没事，都一样，我就创建1个TMP里面examp目录。



![](img/01c6e405fb2077236b9a889fcb63f2b5_134.png)

然后呢，我们的那一个所属主谓Zuser，那我们changroup或chan on都可以是吧？我这里就直接冒号，前面不写，就是不改他的那个又他的所所有者。可以的，可以前面不写啊。圈之 on。

然后我们的exam user，我们刚才之前创建那个组，对不对？ex user，然后呢TMP我们的exc目录，这是可以的。



![](img/01c6e405fb2077236b9a889fcb63f2b5_136.png)

저 주고 왜야。所说我用的更多。

![](img/01c6e405fb2077236b9a889fcb63f2b5_138.png)

啊，不杠低哈。对吧我也是可以的，就前面留空证明不修改，后面跟冒号，我又我穿中用的更多。然后呢，可读可写，可访问你在us组成成员是不是？弱者不受该限制啊。这该怎么做下，记得吗？啊，全属某的是吧？

然后对于这个组呢。对啊，可读可写方方法问到居加WX就可以了，对吧？或者等于吧，因为它只有这三个权限，那我就等于就行了。是吧。



![](img/01c6e405fb2077236b9a889fcb63f2b5_140.png)

然后最后一个。这里啊这里还是以在吗？这里是不是1个SJID啊？

![](img/01c6e405fb2077236b9a889fcb63f2b5_142.png)

我们看一下他权限。

![](img/01c6e405fb2077236b9a889fcb63f2b5_144.png)

这有S就对了。

![](img/01c6e405fb2077236b9a889fcb63f2b5_146.png)

对吧以上就是第三题。

![](img/01c6e405fb2077236b9a889fcb63f2b5_148.png)

明白了，请打3。我这里我这么写是对的啊，这么写是OK的，或者说chanch group也是可以。但是chanch group一般。真的少用。



![](img/01c6e405fb2077236b9a889fcb63f2b5_150.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_151.png)

这三道题要不给大家稍微一点时间消化一下，然后我们准备讲第八章可以吗？

![](img/01c6e405fb2077236b9a889fcb63f2b5_153.png)

稍后给大家十分钟教换一下，然后我们讲第八章，讲进程啊，就我们用户权限这四道题就是给大家一个典型的例子，然后给大家消化一下，好吧，教换一下。然后我们待会讲第八章，讲进程。chge group也对也对啊。

这种写法也是正确的。如果我用圈子on更多。对吧经常改用户这样改组的应该都知道。

![](img/01c6e405fb2077236b9a889fcb63f2b5_155.png)

好，这四道题我就这么给大家了啊，这给大家了。😊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_157.png)

然后这里主要是杠EU啊。

![](img/01c6e405fb2077236b9a889fcb63f2b5_159.png)

然后前面的这个我不用再说了啊，前面不用再说了，主要是gefi这在fi口这一块。

![](img/01c6e405fb2077236b9a889fcb63f2b5_161.png)

![](img/01c6e405fb2077236b9a889fcb63f2b5_162.png)