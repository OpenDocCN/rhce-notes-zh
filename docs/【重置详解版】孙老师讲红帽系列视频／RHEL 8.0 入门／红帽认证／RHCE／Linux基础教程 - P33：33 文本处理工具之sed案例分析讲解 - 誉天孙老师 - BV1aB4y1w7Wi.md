# 【重置详解版】孙老师讲红帽系列视频／RHEL 8.0 入门／红帽认证／RHCE／Linux基础教程 - P33：33 文本处理工具之sed案例分析讲解 - 誉天孙老师 - BV1aB4y1w7Wi

过了啊呃，我每个都给大家演示了一遍啊。啊呃这个地方有一个地址的说明啊，地址的说明来看一下啊。我们过一遍啊。呃，注意事项，如果没有指定地址，那么我们的这个命令将会用在每一行每一行对吧？

比如打印不指定第几行，那就每一行就打印啊。如果只有一个地址，那么命令就应用这个地址匹配的行。就是有一个地址就匹配那个地址的行码。然后如了如果用逗号隔开两个地址，那么表示运用在这第一个地址跟第二地址之间。

是吧？啊，如果地址后面有感叹号。那么。还有感叹号哎呃表示命令将不应用于匹配到的行。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_1.png)

这个就是反选嘛，这是不是就是反选呀？就除了第一行到第二行。呃。加感叹号。这样子。然后嗯再来。太402。你看是不是除了第一行，第二行，其他都都写进来了，OK吧，就加感叹号啊，这地方你加感叹号。

就除了这一行到这一行之间，就写到这个文件里面。😊，这这跟哪个系统没关系啊。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_3.png)

都适用。嗯。啊，呃OK这地址注意事项啊。这边有一些例子啊，我给大家写了呃，我特地给大家写在这个地方是吧，怕大家记不赢啊，那打印第五行对吧？然后打印最后一行，打印行第一行到第五行，然后root的行呃。

不行不我忽略大家写，然后带root的行对吧？同上这两个是一样的啊，你看我这样举个例子，用可以用版分号来代替，是吧？😊，然后这是删除第一行到第五行，这个是备份了是吧？将原文件修改完之后，备份一个文件。

把索点BAK。然后这就是在第二行下面插入ABC。OK吧，在第二行下面插入ABC啊。嗯嗯。啊，来了哦，还有一些案例哦。你看我给大家找了辛辛苦苦找的一些例子啊。啊，查找替换的这个还要不要我说。

这个是我之前说过的是吧？就会演示过了啊，SEDS把nse替换成hello后面接文件名，但是只替换这一行的什么第一个nse对吧？第一个nose啊，然后SEDSG这是不是替换所有这一行所有的nse都替换。

那么这个一指的是我只替换第一行的所有的nose替换成hello是吧？然后这个这个呢这个指的是什么？这个就是呃呃第一行的第一个nse是吧？然后这个是什么？唉，看好哦。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_5.png)

看这里啊。SED。呃，杠N是吧，先把打印出来。啊，我们最终要把打印出来，把替换的行打印出来啊。啊，我想把S呢就是把root。呃，root注意root替换成AAAA。然后我想全局替换，我是这样替换的。

对不对？是不是这样啊？呃，你看这三个都替换了，对吧？但是我就有特殊怪癖是吧，要求我就想替换什么，第二个就想替换第二个哟，回车了，看到没有？第二个就替换。看到吗？就后面你可以指定替换哪一个。

这个VM我不知道能不能做到啊，我没有试。什么东西好。卡吗？其他同学呢？啊，这个地方就指定替换第这一行的哪一个啊，指定替换那这行哪个。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_7.png)

嗯嗯。好，下面是利用替换来巧妙的进行删除内容，而不是删除行，而不是删除行啊。好，这下面的例子很经典啊。好，看第一个。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_9.png)

DF杠H哎，我记得有之前有同学是把这个呃。这个什么给截取出来了呀？呃。他把那个。26都质积出来了是吧？啊，do了多了5。啊，他把这个26就给截取出来了。然后我说呃26%，然后我说要你要截什么。

要截这个26啊。嗯，同学们来告诉我啊，入 card怎么去截这个26。来快速告诉我ca的怎么去解这个26啊。啊，用什么呀？用什么来截啊？cut。指定什么为分割符啊？指定呃。算了，我自己说吧。啊。

百分号是不是百分号啊？百分号为分隔符，然后第几个呀，是不是第一个呀？这样是不是就截取出来了，对吧？但是这种我一看哇就好就感觉呃这个没什么技术含量是吧？一看就看清楚了。

但是另外一种你换成SED也可以实现啊。SED呢就可以用什么查找替换。😊，查什么呢？呃，他可以将这个呃比如说啊他把这个百分号要替换掉是吧？那就S查找百分号。然后替换成什么呀？空。看到没有？空就什么都不写。

回去了也实现了，看到吗？然后这个百分号是不是指的这个百分号对吧？查到百分号，然后后面这个里面没有写嘛，就没有写，没有写的话，就是空嘛，空就是把它去掉了，相当于把它删掉删了删了啊，是一样的。好。

运用这种技巧的话，我们还可以来实现一些更高级的功能来看一下啊。好，呃，那我现在呢想把这个文件的第一列，就这一列看好哟。这一列全部给删掉，不要了，全部删掉哟。第一个就是说第一列就第一个字母。

每一行的第一个字母我都要删了，不要了。每一行的第一个字母都删掉，不要。怎么做对吧？好，看好啊，眼睛不要眨啊。啊，那你同样也是不是要这样去做？那最后我想把它打印出来，那我就杠N。

最后我要写个P把它打印出来是吧？是这样吧，我先想好吧之前的内容，然后剩下内容是不是要去做删除了，对吧？好，那删的话，我们针对怎么删呢？第一，它只能删除行，OK吧？好，那我想删呃这个这个第一个字母。

那我就可以用查找替换查找。😊，替换或者把什么插找成什么，替换成什么呢？啊，还记不记得我们有一个间号啊？间号指的就是开头的意思，把开头的。呃，好。这样吧，我们先说另外一个啊，说到这了。

我们可以在这个文件里面前面加一个注释，就是我们之前是用那个VIM来实现的，是吧？好，那加个注释，就在第一第每一行的前面加个注释，那我就可以把。最扛手换成。井号回去了。看到吗？啊。而且你还可以指定什么？

你还可以指定第几行，比如说1到第1行。S回车。然后你再加一个什么，再加一个我加一个I，你就实现了什么修改原文件了。所以你还VM是吧，就不用学了是吧？😡，O。所以。你看这个SED功能非常强大啊。

这就是巧妙的运用我们这个什么查找替换来去实现删除字符串。对，删除字符串啊。好。因为前面是不是可以匹配行，你想匹配哪一行就匹配哪一行嘛。那后面就是你要做的事情，对不对？啊。

那刚刚我们说到是在最前面加上一个井号。那如果说我想把第一个单词给删掉呢，就是说第一个R删掉B删掉D删掉，现在你会了吗？R呢RBD这些第一个字母给删掉啊，其实也很简单。只需要我们匹配第一个是不是通过什么？

通过这个呃井号，但是井号第一个字母怎么匹配，我怎么去匹配第一个字母呃，井号点点代表是任意字符。记不记得正则表示当中点是不是代表任何一个字符啊，无论这个字符是什么，它就是任何一个字符啊，你是A也好。

是什么也好好，然后回去了。一呀。我删了吧。你加个杠哎呀。对删了两次啊，删了两次，我把原文件给替换了。你看我把原文件给替换了一次啊，刚刚。刚刚执行了个I，对吧？啊，然后杠N的话。

你看它是不是就是把第一个字母给删掉了呀，对不对？啊，看懂了吗？这个。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_11.png)

好，这个我例子也放在这儿了啊，大家可以去用一下，而且插好替换的时候哦，这个地方哦，这个例子跟这个例子是一样的，是吧？啊，我就重复写了啊。哦哦这个不一样不一样啊，这个是删除是吧？

这个是将这个nose第二个nose这一行第一行的第二个nse替换成空，就是将第一行的第二个nse去掉，那去掉空嘛，就去掉，对吧？好，我们刚刚实现了什么删除每一行的第一个字母，我们删掉了。

那下面还有一个更复杂的，看到没有？更复杂的哟。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_13.png)

好，我们这个也来试一下啊。呃，我想。你看啊。嗯，他是我的。然后我想干什么呢？我想把这个每一行的第三个字母删掉，那我怎么去匹配第三个字母呢？S。对吧啊，匹配第三个字母呃，第三个字母是怎么匹配？

是不是这样点点点。这个地方是不是就是第三个字母，那这个地方是不是第三个字母，第三个点是不是就第三个字母，对吧？然后。把它替换成什么呢？啊，这样啊，那我替换成什么东西呢？难道替换成点点吗？

你这点点代表什么呢？好，所以我把这个前面这个地方呢用个小括号把它括起来。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_15.png)

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_16.png)

小括号括起来。小括号括起来啊。啊，小括号因为在地方会有特殊字特殊含义，所以我们需要把它特殊含义去掉，加感叹号，不是加个反斜杠。好，那么后面我们是不是我这样写啊，斜杠一啊，斜杠一指的是什么呢？

它指的是我们小括号括起来的。因为我们小括号括起来作为一个作为一个整体，我们这件正则表示当中。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_18.png)

有这样一个吧，那小括括起来，是不是做一个整体，做一个单向处理，对吧？

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_20.png)

那么这个。这个反斜杠一呢指的就是小括号匹配的第一个小括号回去。第三个字母就删掉了。你看本来是OOT。那OO只是T就没了，只剩OO了。没问题吧。本来是个T的是吧，所以就把第三个字母给替换掉了。

不知道大家看懂了没有啊？😊，好，我再说一遍，我就不说了啊，没听懂就你就没听懂吧。啊，这个点点是不是指的是么？指的是不是前两个字符，以什么什么开头嘛，然后这不是三个字符嘛。

然后我用我把这个点点是不是用小括号括起来了，作为一个整体，对吧？然后替换成什么，替换成斜杠一，斜杠一指的就是我小括号括起来第一个字符啊，第小括号括起来第一个项小括号括第一个小括号括起来的内容。OK吧。

就是7杠1啊。好，这是一些比较经典的用法啊。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_22.png)

嗯。还有还有一个下面是吧，下面还有一个。那这个是什么？哦，删除每一行的第一个单词是吧？每一行第一个单词哇，这个也比较经典是吧？你看啊呃我我带你看一下好不好？第一个单词是不是以什么什么开头，对吧？

第一个单词嘛，然后单词是不是以单词是以什么开头，单词是以字母开头？那我认为是字母开头，然后这个是指什么？这个是不是指一个一个单词的开头，然后这个是指一个单词的结尾，对吧？然后这个地方这个是什么？

这个是不是指我匹配一个字母啊，😊，啊，然后这个星号是不是匹配呃0到多次匹配0到多次，对吧？然后以字母开头以字母开头以字母结束，中间有若干个字符。OK吧，中间有若干个字符啊。

然后那就那这个就是把第一个单词删掉，你自己去试吧，好吧，或者我帮你执行一下也可以。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_24.png)

比如说把第一个单词删掉。好，看到没有？第一个单词就没有了。那就冒号前面是一个单词嘛，第一个单词就没有了啊。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_26.png)

啊，就够了吧。不说了啊，说多了也记不住。O。好呃。绕晕了是吧？那下次不讲这么多了，我看他绕晕了啊。😊，好了，说完了SED说完了啊。呃，当然SED的功能不仅呃不止如此啊，它还有呃其他的一些功能。

如果你们想对吧？再深入去学习，这个你们可以再去找一些资料去学习一下。我就讲这么多，不说多了啊，说多了你们大家都晕了。好。这是一些比较经典的，你你你就把这些弄会了就行了。那我就过了啊过了啊。好。嗯。

SCD这块呢我们分了几部分啊，分了几部分命令对吧？然后选项选项大概用的比较多的就是杠N杠I杠E杠R。如果用到用到了扩展正则的话，那你就要要用杠R了啊。比如说。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_28.png)

什么时候用到扩展正则，你还可以这样SED杠R，对吧？比如说或者我们在用的时候，我们可以比如说呃root或者什么或者user替换成什么什么东西，对吧？能理解吧？就S吗。No。呃。

或者这样的话它就能识别到什么？识别到这个树干嘛，就或者的意思。然后把这个替换成哎这样子啊，就就要需要就需要用到这个扩展分则啊，扩展准则。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_30.png)

嗯。你们晕了是没听懂还是还是怎么回事，还是觉多了，晕了。我讲的你们都听懂了没有啊？你不需要消化，你只需要看我演示就可以了。嗯，怎么这么多事儿呢？给你们讲多了，又说多了，有想少了有些少了是吧？嗯。好。嗯。

这东西讲一遍，你能听懂就可以了。你还想把它记下来，这个很难，好吧，这个不太可能，除非你是那个。除非你你你的记忆力超强，否则你这个。想接下来很难。好了，那我把它关了啊。好，就说到这儿了啊，就说到这了。

SED。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_32.png)

反正我都是讲了你们。我我我我应该每个例子我都给大家演示了，而且每一部分我都给大家解释了。嗯，如果你觉得自己没跟上的话，你就在看视频。嗯。再去下去再复习一下。呃，其实我基本上我讲了一堂课，你可能要花。呃。

两遍或者三遍的时间要去把它补回来，然后要然后去才能才能去消化，才能去慢慢哦感觉是那么一个意思了啊，那你上课的任务就是能看我演示，看我能把每一部分给你解释了。你知道哦，是这么回事就行了。嗯。

因为这内容太多了，我没指望大家去记住。嗯。你想气死我吗？你不用肯定会忘记啊，但关键是什么？关键是你要把这些例子要记下来，用的时候拿回去怎么样啊，拿回去就就嗯到时候直接用就去查。对啊。

用的时候直接查就行了，都没没没指望大家就要去记住它。因为这东西太多了，不可能记住的，包括我也不可能记住。而且我要去用的时候，我要我可能要去查，你只要有笔记记下来，这是为什么你要你们要去记笔记。😡。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_34.png)

这就是这个作用啊，对吧？你要你要知道有第一要知道有这个东西。第二，你要有记录。你要知道大概我们其中我讲过这些选项，讲过这些正策表示，每一个是指什么意思，这些你知道就可以了。😡。



![](img/1b39442d3c0a4bd5dddfa6509a912f5f_36.png)

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_37.png)

废话不说了啊。就看这个我我交了，那你们后面怎么样，就靠你们自己的造化了啊。哎哎哎哎哎，你么又点到摄像头了？好了。嗯。Mmhhm。好。PPT不是给大家做好了吗？你看我为大家想的。😡，这么周到是吧。

例子也给大家举好，每一个都解释说好，然后还可以你全部演示出来。我就没见过像我这么好的老师了。

![](img/1b39442d3c0a4bd5dddfa6509a912f5f_39.png)

好嗯，那我们继续啊。