# Redhat红帽 RHCE8.0认证体系课程 - P51：51_Video_Day09_Ch01a_初识Ansible - 好好好二狗 - BV1M3411k77W

好我们就不浪费时间了啊，那各位摄影师妹们，各位同学们，大家早上好啊，我是小朱师兄，今天到我们课程第九天，前面八天呢，我们已经把20cc的所有的东西已经学完啊，已经学完，这个的话啊。

我们这个步骤呢待会我会讲啊，这个直接直接你联网就可以安装的了，不不需要那个东西，然后呢我们接下来会开始啊，四天的时间我们就讲ensable啊，讲enerable效的内容。

因为最近呢刚刚7月20号以及7月23号，在广州跟深圳啊，在广州跟深圳已经进行完了，第一批m4 就是rh c8。01个考试出来，结果其实就喜忧参半啊，求求三犯，有些人犯的错啊。

基本上那个通过上午的话大家都通过了啊，上午都都比较好，但下午的话有些人挂了，而且最低分还到11分啊，300分放了11分，然后呢，所以的话我这里包括啊，原本我是没有设计这种东西。

但是今天我要包括这些坑的话，因为在我们配置在讲的时候，我们会说大家怎么避这些坑，然后练习环境可以不用，因为我看到有些像陈奕迅这样子配置，已经是很呛的，那我不敢给大家用练习环境，因为练习环境的话。

你16g内存要i5 以上对吧，i5 以上，所以的话你的那个你都已经报了，所以的话我用就用我去教就好了，我们练习环境呢留在什么时候用，留在我们考前辅导的时候用，刚才让大家准备上台阶啊，如果ok的话。

其他人已经回了，y的，不用不用再回，不用再回，然后现在弄完了，回个y给我看一看人数，812345678 90 十，10 20 30 40 56，好17 20 89，好了，那我们今天我们都不不对。

以前做回顾了，以前的话请大家回去自己看笔记跟录屏，已经很清楚好吧，接下来我们四天时间，从现在开始，我们开始讲exo的内容，exeable是自动化运维。



![](img/a7c6b02bd05e575f97cf26c6689e83f0_1.png)

自动化运维其实难不难不了多少了。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_3.png)

拿不了多少，待会给他一个图，一切都清楚啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_5.png)

我们第一部分来，我们来初始enerable啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_7.png)

我打错字了，初始ensable as，我是什么呢，enerable呢，在我们以前是407的科目啊，以前是ca的一门科目。



![](img/a7c6b02bd05e575f97cf26c6689e83f0_9.png)

然后考过ca的人都知道，d407 是最简单，而且直接那个考完很快就出来的内容，所以的话为了银行，现在云计算跟自动化的一个趋势，所以的话红帽把407的大部分啊，一一半左右内容下放到了294。

也就是我们现在的c八点。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_11.png)

所以以前我们c17 是不考，我们是考服务的，对不对，考服务的，现在c8 全部考enerable啊，就考这个东西，自动化平台的应用，aimable呢它是一个自动化的，开开源的自动化平台。



![](img/a7c6b02bd05e575f97cf26c6689e83f0_13.png)

它也是一种简单的啊简自动化语言，它能够在s5 剧本里完美的描述，我们的i t金属用架构，现在我们还很多多提，停留在我们人工的这种部署阶段，因为eniable呢它可以运行。



![](img/a7c6b02bd05e575f97cf26c6689e83f0_15.png)

通过运行基本剧本来管理强大的一个自划任务。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_17.png)

而且能够适应不同的工作流环环境，对于我们的工作效率提升是非常大的啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_19.png)

它有几个特点，一个是简单明了啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_21.png)

一个是简单明了。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_23.png)

一个是那个。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_25.png)

这元素就过期了哈啊一个是简单明了。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_27.png)

一个是功能强大，一个是无需代理。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_29.png)

简单明了，它提供了人类可读的一个自动化啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_31.png)

我把这个地址我复制一下，我看看啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_33.png)

他可能有更新了，不不不一定。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_35.png)

我做一个实验就知道了啊。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_37.png)

![](img/a7c6b02bd05e575f97cf26c6689e83f0_38.png)

我这边能下载啊，没有问题啊，你dns配有配有问题吧，邓文西，考试要自己安装啊，要自己安装，考试再安装，我待会讲，它简单明了呢，它提供人类可读的自动化，这表示我们的剧本啊，probably，我们叫剧本啊。

剧本不仅是自动化运维工具，而且日语阅读理解跟根杆，不需要掌握特别的一个编码技能，也就是我们不需要掌握很复杂的一个编程语言，就很编写他们pb，我们那个剧本的是按顺序来执行任务，prep设计的简单简易性。

使其可供每个团队使用10s的入门者，能够快速的获得我们的成像，它功能强大，是用它它主要我们的用途呢就是配置管理啊，提供配置管理工作流自动化跟网络自动化，他可以编排整个的生命周期。

就是比如说我工作的一个我部署，从部署到应用到上限到应用回收，机器回收整个流程都可以用来进行，但我们可能只讲一些部分啊，no不需要代理哈，不需要在客户端装什么东西啊，它只需要通过vi或者是我们的。

就我们这里要讲的叫做免密的open ssh的认证啊，通过公司要，而不是通过密码认证来管理主机运行任务啊，通常就是把s5 模块小程序推到它的主机，然后主机呢用于将这些系统的到制造特定状态。

我们会讲到一个叫密等性的一个东西，sm运行任务，它只运行sable呢，如果运行完任务之后呢，整个所有模块会被删除，就几乎可以立即使用，而不需要任何的特殊代特殊代理，然后部署到15关主机上，因为没有代理。

我也不需要去制定安全的基础架构，所以的话它的这一个效率会更加高，更加的安全，然后呢他有几个重要优点，就是一个跨平台支持对吧，所有都可以啊，不代理支持啊，所有都可以，通常什么物理。

现在包括连部署open style，部署我们的cf，我们我们的那个open ship，其实的话都可以用s b来做，就我们的环境啊，不需要我们银行去敲代码或者跑安装animal，可以帮我们移步啊。

我就直接跑一个或几个剧本，如果是多个剧本的话，我们可以称之为角色啊，我们编成一个角色，将在我们的组件就可以完成了，然后呢他的编写是采用亚某的格式，亚某格式基于python啊，所以他这种是易于阅读。

我们在明天会讲到关于剧本的编写，今天暂时不会提到，因为今天的内容比较多啊，然后它也可以用来完美的描述啊，记记录我们应用环境，因为我们可以通过剧本来进行每一项的更改，这是一个我们的概念的一个问题啊。

还有一个就是它的一个版本控制啊，因为我们项目都是纯文本，我们可以做有源代码啊，还有呢就是动态清单，也就是我们的计算机列表是可以变化的，可以变化的，然后呢它可以轻松编排啊，跟其他系统集成。

但这里的话我们就只讲他的一个应用考试，也只考它，因为我们不会跟那个其他的系统进行一个混合，但是它有一门高级课程，有几门高级课程，比如说我们的d o407 ，我们d o407 啊。

就像我们的i h c的话，是有d407 ，还有du 47之类的，但适应期的话，可能以后可能考可能也比较难考了，摄影机是完整的一个enerable，47是ensable啊，practice。

它自动练它它的一个练习，a s m呢主要，我们这门课叫r h294 ，考试代码叫ex 2946294，主要是用于批量管理服务器啊，主要有以下场景，比如说我们的所有服务器的一个通用配置。

比如说我们安装基础的安装软件包是吧，安装软件包我们是可以用什么来做是吧，我们的重启就启动启用服务，我们的一些像文件的生成等等啊，应用管理服务管理系统管理都会涉及到网络，我这里不会不会去详细去讲。

不会详细讲，因为网络工管理功能确实没有，像我们自己的自己配置那么好，这个考试也不会考到啊，考试主要考自动化啊，考自动化考试呢待会我会讲啊，我们先看一下enerable的基本架构。

基本架构一个图可以搞定所有啊，如果你理解这个图啊，你们先花一分钟时间，你看下这个图，这个图的话，如果能理解，基本上animal也没太大问题了，新一花一分钟看一下这个图，好的，我们来看到啊。

as s的基本架构是不是，如果你看到这个一拖几，一拖四啊，假设一拖四，我们现在这里是一拖二，你们会觉得是不是跟司令部指挥打仗很像啊，对不对，相当于是我的一个指挥部啊，司司令部指挥部指挥部，然后。

我指挥部我跟你跟我下面的联排文士兵是吧，建立好信任关系之后呢，我是不是可以发号施令，我司令部我要指哪，你就打哪，对不对，懂我意思吧，就是这eniable，其实我们的基本价基本的一个架构就是这样子。

当然了，他是怎么样去发号施令呢，比如说我要让一台叫server a的机器，去执行一个创建用户的一个任务对吧，我要创建一个指定的用户，指定的u i d，然后他是要生效的，那我控制节点呢。

我们control或者是我们叫worst station，首先比如说我要让让node 1 node的，我们的宿管主机啊，我们有两个概念叫控制节点，该是受管主机，宿管主机有另外一个专业的名词。

我们叫资产清单啊，就那个我们可以在control里面我们配置，我们跟啊f f h方，就是通过我们的open ssh这一块的话，我们啊建立一个免密码，通过公司要去进行认证的一个配置。

这个配置呢我们在之前在哪里讲到了，在我们124还记得吗，我们第一本书第十章对吧，管理如何去管理open s h，管理配置open s安全的s s h，那里的话已经有讲到了，如何去配置我们的一个。

如果是我们配置了我们的一个免密认证，对不对，我们相当于唉我要指挥你去干活是吧，我不要说打仗，我们和平年代我们去干活，对不对，干活是不是我要先认识你，先拉你要我，我要就你我下属我的信信任我上司。

我才能听他的话，对不对，那这个就是相当于建立一个免密连接，建立一个信任关系，然后好鉴定完之后，我是不是有一要要写要发布任务啊，放任务的话，我们这里冲称为剧本或者是角色，有两种角色之多个剧本的一个结合啊。

按照规定的一个编排格式，然后形成一个角色，这是多剧本的一个结合，也就是相当于一个模块大模块，然后呢剧本应该知道吧，我们演戏啊，特别特别是我们做演员是吧，你做演员不，哪怕是当歌手多好，你是不是有个台本啊。

对不对，台本上面写写满了你的你你要演，就我们演戏，我们做演员的时候，是不是我们要看台本去演啊，它里面是不是写你的角色，然后你又说台词对不对，懂我意思吗啊，包括我们歌手是不是没有有有有有有谱了。

有乐手是不是有乐手是不是有乐谱啊，歌手是不是要有歌词站在上面啊，特别是我们录音的时候，对不对，所以的话其实在ens里面也是类似这样的道理，我要让下面干，我，我信任之后呢，我要在下面干活。

是说我要写一个东西啊，那东西这个东西就叫剧本或者角色，你要定义我们需要管理这些任务，然后呢他这些信任着我们下属怎么来呢，通过清单啊，通过清单来定义我们的受物管主机跟列表。

他不他不止可以对一个人一台机去发号施令，我可以对任意多台一对，相当于是一对多的关系，所以的话啊，我简单的阐明了这一个enerable的基本架构，明白的请打，明白的请扣个y啊，请扣个y。

然后有疑问的可以提问，大家要理解这个架构，不然的话我后面的东西白讲懂我意思吗，现场呢你明白吗，明白的话我们就要讲接下来的一些组件啊，控制节点，控制节点它的这些用途，第一个定义我们的主角清单。

主机清单呢就是我们的控制节点，需要控制的一个受管主机，也就是我们的一个发号施令的士兵，我的下属对吧，通常它的类似就是这样定义，我们通过一个可以帮它把它分组，或者是把它单调出来，然后下面列区列出来。

它可以是界定域名或者是ip地址，当然它域名跟地址是两个的啊，我们在后面会讲到你如何定义，你就如何调用，不要说我一会儿我同样的一台机器，我一会儿写域名，一会写就我调的时候调ip对吧，我写的是域名。

就在我清单里面调域名，然后我写的是我真实调用的时候，我写的ip地址，这样不行的啊，他ip的域名的话，他在清单里面是认为是两个东西的，懂我意思吧，这个是control的第一个作用，定义主机清单。

第二个作用我们要定义我们的剧本或角色，剧本呢是用来第一个式各样的一个任务啊，电视剧我们各式各样的任务啊，任务我们的简单的一个列表啊，简单一个列表，我们可以看一下他任务的一个结构。

这个结构首先我们的一个剧本名称，剧本名称，我要阐明我这个剧本是干嘛的，对不对，我的剧本要来干嘛，我的作用是什么，我要写一个注释，但这个虽然不是必备的，但是我们这种还是要养成一个习惯，养成一个习惯。

说我们这个剧本呢，我们要像我们写脚本一样，是不是我们需要的话，是不是要经常写注释，对不对，要写注释对不对，也就是你不仅要自己明白，也要让别人去明白，那所以的话我们这个名称是必要的。

然后你这个剧本你要运行的是你，你要放运行在哪台主机上，也就是你要发号施令给谁去做也要写，然后接下来就是我们运行任务，运行着任务呢就是每一个任务一个名称啊，一个名称也是同样写注释。

然后后面下面是我们的模块以及参数啊，这个例子呢是创建用户的任务剧本啊，创建后的一个任务，剧本就把刚才那个牛逼，那个我转化成这这样子来写，转换这样子写，这样的话就大家可能不知道怎么写啊。

可能一开始不知道怎么写，但是我们要等到我们学了配置完，学了临时命令之后，大家自然在讲剧本，大家应该都知道了，不然的话你连模块怎么用都不清楚啊，然后呢我们刚才讲连接方式啊，连接方式就是通过f o i。

open f f h的方式来远程到售管主机，是基于无密码认证，他是去公司要啊，公钥私钥，也就是无密码认证啊，他用公司要代替我们的密码，这是第三个哈，第三个，然后node受管主机也就接受我们控制端。

control端的剧本，并且直线终端他就是听我的，听我们控制端的命令去做事就可以了，其他我不需要做任何的配置对吧，然后只要我能完成达到我这个剧本，我要完成一个目，达到一个目标状态，哎我的那个控制端。

我的任务我就完成了，这一点如果明白的话，请打a啊，请打a，然后接下来node是那个host，没有错啊，存储区没有错的，接下来我以前没想，那接下来讲的就是一个考试考点啊，考点这么多英文的啊。

题量最近的一次考试啊，包括深圳，包括广州14题，我已经问了14题，然后涉及哪些范围呢，满分300分，及格分210过，跟我们csa是一样的，考哪些东西呢，我们看到接下来我们邮件我截出来的。

这个是这个这个分数是挂的哈，这分这这人家这个分数挂的，我可以告诉一下他考哪些内容，第一个，简单的翻译一下，我这里有一个翻译啊，翻译你等等，大家等等啊，如果是翻译的话的话，如果大家看不懂英文。



![](img/a7c6b02bd05e575f97cf26c6689e83f0_40.png)

看不懂英文的话，我这边我可以截图给大家告知。

![](img/a7c6b02bd05e575f97cf26c6689e83f0_42.png)

对应的考点有十个部分啊，十个部分，我们对照翻译，如果看不懂的话，是第一个了解n次后的核心组件，核心组件我们要懂啊，就是我们我们的那个通过通过我们的配置，就可以看清楚有哪些你是具哪些，你是控制端是吧。

那哪些是node，然后怎么验证的，这个是核心组件啊，核心组件，然后包括我们的模块，我们参数通过剧本就可以看得出来，然后第二个叫做第一个是叫understanding of core。

compete comment，component of answerable啊，第二个是叫install and confuture enerable，安装和配置的answer控制节点。

这就是我们第一章要讲的内容啊，就就我们第二部分要讲的内容，懂我意思吗，第二部分讲的内容就是安装和配置，ens的控制节点，第三个叫做run at hoeniable command。

如何配置assable受管节点，受管受管节点和运行临时命令，这是我们在书里面是第二章，我们的第三部分的一个内容，也就是我们要掌握我们的模块好吧，该模块，然后考试要求是写一个shell脚本。

来运行enerable的临时命令，考什么呢，配仓库，配软件仓库，懂我意思吗，这点就是配软件仓库的一个题目，第四个。

use sensible models for system and me and resident task，如何创建，进就是说那个关于一个静态动态清单的话，再定一个主题组，这一段话。

这是一个exo的一个模块啊，angel模块，然后来来来那个运行我们的系统管理任务，这就是我们利用enerable了那个模块，或者是我们的一些剧本啊，来运行我们的一些管理，比如说我要生成一些文件。

我们要打印出来我们的系统报告对吧，答案系统报告这些的话就是一个点了，还有的话就是我们的一个磁盘对吧，磁盘也是属于此类，要不这样吧，我把下载文件共享出来给你吧，好吧，复制换行了，我看一下。

他可能啊他这个从不缓存是失败的，你看stream都写错了，对不对，我的true就写错了，对不对，你看到dream啊，就刚我看到那个邓文西，他的string的话，s就没大写了对吧，你的s都没大写的。

有问题的，好我们继续讲第四个啊，就是管理这些任务，第五个创建ensable剧本啊，剧本还有就是我们的play没有任务和剧本啊，任何剧本这一块的话，就是很多题目都是这样子，他这里翻译不是最太准确啊。

第六个如何使用模板，sm模板啊，管理任务，这个是有了啊，管理任务刚才有了第六个，我们的一个模板去创建自定义的配置文件，这个会考两道题，都是关于我们均价的，均价柱的均价柱这一块会考啊。

第七个work with animal variables and feat，管理管理，我们的就是说我们的如何应用啊，变量跟事实，我们在第四章明天会讲到这个东西，变n变量的管理跟事实管理，什么叫变量。

什么叫事实啊，事实其实就是我们这里提一下事实呢，就是我们授官主题回来的东西，然后我要对这个它的一个既定返回来的，一些信息进行一些引用，我们需要输出一些东西，把我们的打印打印。

报告也是基于animal的一个事实来操作来处理，第八个角色啊，创建如何创建跟运用我们的一个enter的一个角色，角色刚才说了，就是我们去多个剧本的一个结一个结合啊，动作系统一个结合，包括模板。

第九个download and urope in ancigalaxy，就是说encigalaxy这个工具，他会考试会提供两个包，让你通过encigalaxy去下载和应用这些角色，第九个第十。

use ansible bot in playbooks for protect scientific data，使用ansible vo，就在我们剧本里面使用iphone vo。

也就是一个加密的一个组件啊，s5 加密一个组件去保护我们的敏感数据，通常是密码或者等等这些，所以这部分也是涉及了两道题目啊，两道题目大概是这样，考点应该都清楚啊，但具体有多少个得分点，我并不好。

我还不知道，因为它现在是改用百分比的一个形式来呈现，所以的话会就说要通过多级参考，因为今年也是第一次吧，第一次考，然后30号30号我们还有一场八点考试，31号还有一场七点，我们到时候我会看一看。

留意一下到底最新法规学会怎么样，因为现在这些东西呢，你考试环境好，考官不可能给我们的，对不对，我们有练习环境，但是这些的话，我是通过学院的邮件可以告诉大家，我们到底整个enable要考什么东西。

能明白吗，14题四个小时时间啊，考试时间整整四个小时，满分300分，及格线210啊，下午好，下午就全都搞，全都搞这些，然后你要非常熟练，而且你要对c c，你不要说那个cs的技术丢了，因为包括分区磁盘。

懂我意思吗，所以这一块呢我们一个概念部分，我们就先讲到这里啊，明白的请打一，有疑问的可以提，然后刚才邓文系懂啊，邓文西的这个问题，你应该是样本搞错了啊，要没搞样本搞错了。

然后导致你这个卖catch根本没刷新，然后你这个下载的话还出现404，如果出现问题，我可以啊，通单位我在课间休息的时候把我文件提起来，然后大家传进去可以吗，那我现在休息15分钟，我们45。



![](img/a7c6b02bd05e575f97cf26c6689e83f0_44.png)