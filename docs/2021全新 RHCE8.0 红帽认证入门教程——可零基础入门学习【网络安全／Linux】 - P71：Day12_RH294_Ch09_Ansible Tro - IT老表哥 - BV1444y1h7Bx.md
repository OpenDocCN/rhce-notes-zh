# 2021全新 RHCE8.0 红帽认证入门教程——可零基础入门学习【网络安全／Linux】 - P71：Day12_RH294_Ch09_Ansible Tro - IT老表哥 - BV1444y1h7Bx

![](img/98a2e6c514aa85875b943d366d20d80c_0.png)

好，各位啊，我们接下来第九章的那容，剩下最后一个小时。第九第十章我只会提到比较重点的一个词盘啊呃，基划就么这些，其他的我就不会再提了。因为其他的有些已经讲过了。



![](img/98a2e6c514aa85875b943d366d20d80c_2.png)

好，第九章。故障排除，我们可以定一个路径啊。第一个日志路径来查看日志。比如说我这里。这里有一个log pass。🤧这里定义了一个S5点logg，那我可以通过。



![](img/98a2e6c514aa85875b943d366d20d80c_4.png)

![](img/98a2e6c514aa85875b943d366d20d80c_5.png)

Sbo。点logG来查看我们的对应的一个日日志来排除问题。这个是一个方法。然后呢，debug模块我们是不是讲过了？有MSG直接在屏幕上面显示指定内容，还有。我们可以输出到我们的1个VR变量。

然后直再导出来。好，这是第二个我们也讲过了啊，这我们已经讲过了。第3个。语法检测。st check很熟悉了啊。然后还有一个分布调试。stepep啊。看他每一步都会问你到底调不调，不调的。如果yes的话。

它就运行。如果你按。嗯。他就跳过。懂吧？按C的话是继续。按C的话，它就一直会到结束。

![](img/98a2e6c514aa85875b943d366d20d80c_7.png)

就YYN跟C嘛yes no跟 continuetin嘛。

![](img/98a2e6c514aa85875b943d366d20d80c_9.png)

理解了吧？分布调试。

![](img/98a2e6c514aa85875b943d366d20d80c_11.png)

然后还有就是从指定任务开始运行。指定任务后面是我们的叫做start。A task。后面等于跟我们的任务的数name的这个标题。就只我我除了运行线上之外，我就我就只做这一步内容。懂吧？

从指定的步骤开始做开始执行剧本。显示详细过程我不用再说了吧。V是吧。

![](img/98a2e6c514aa85875b943d366d20d80c_13.png)

冒烟运行。冒烟也就是我们的空运型。然后还有就是我们的URI模块。UI模块是用来检测我们的URL返回的内容。



![](img/98a2e6c514aa85875b943d366d20d80c_15.png)

这里一个剧本啊。我这已经填写好啊，play box里面的URI。

![](img/98a2e6c514aa85875b943d366d20d80c_17.png)

![](img/98a2e6c514aa85875b943d366d20d80c_18.png)

这也是检测我们n2能不能正常访问啊，如果可以返回OK。

![](img/98a2e6c514aa85875b943d366d20d80c_20.png)

我这个剧本的作用在这里。

![](img/98a2e6c514aa85875b943d366d20d80c_22.png)

然后UI参数下面写URL，然后选具体地址。然后我把那个。运行的结果保存到一个注册变量，然后通过把注册变量输出来。然后呢，我这个提示信息，我要把这注就是说里面的stateatus等于200。



![](img/98a2e6c514aa85875b943d366d20d80c_24.png)

![](img/98a2e6c514aa85875b943d366d20d80c_25.png)

![](img/98a2e6c514aa85875b943d366d20d80c_26.png)

才会输出这OK的信息。

![](img/98a2e6c514aa85875b943d366d20d80c_28.png)

懂我意思吧？

![](img/98a2e6c514aa85875b943d366d20d80c_30.png)

死块模块石块模块的话。

![](img/98a2e6c514aa85875b943d366d20d80c_32.png)

就是在。

![](img/98a2e6c514aa85875b943d366d20d80c_34.png)

数管主机上运行我们的控制主机上的脚本。

![](img/98a2e6c514aa85875b943d366d20d80c_36.png)

如果。

![](img/98a2e6c514aa85875b943d366d20d80c_38.png)

非礼就失败。比如说我这里要运行一个规点SH，我看下cr点SH有什么内容。我就 echo口一个hellovisible，对吧？对吧。他访回状态码非零的话，你就任务是失败的。stateate模块我们讲过了。

呃，设的模块呢主要是。非有模块的另外一种替代选择。

![](img/98a2e6c514aa85875b943d366d20d80c_40.png)

![](img/98a2e6c514aa85875b943d366d20d80c_41.png)

指定任务失败的条件。我们费偶呢通常跟外缺人用。

![](img/98a2e6c514aa85875b943d366d20d80c_43.png)

然后呢。关连接故障，我们检查什么东西？

![](img/98a2e6c514aa85875b943d366d20d80c_45.png)

对吧连接故障主要检查的要点，第一就是通常我们那个asible如果执行任务。

![](img/98a2e6c514aa85875b943d366d20d80c_47.png)

![](img/98a2e6c514aa85875b943d366d20d80c_48.png)

执际任务会失败或者连接不了数完主机。首先我要检查。

![](img/98a2e6c514aa85875b943d366d20d80c_50.png)

和用户连接对吧？

![](img/98a2e6c514aa85875b943d366d20d80c_52.png)

是是否我们指定对了我们远程的连接用户？

![](img/98a2e6c514aa85875b943d366d20d80c_54.png)

然后。如果是股东用户，你的提现做了没有？

![](img/98a2e6c514aa85875b943d366d20d80c_56.png)

然后收款主机是不是要熟度配置啊？

![](img/98a2e6c514aa85875b943d366d20d80c_58.png)

很多人都忽略了这一点啊。

![](img/98a2e6c514aa85875b943d366d20d80c_60.png)

你要提前配制没有做的话。哪接会出问题的。

![](img/98a2e6c514aa85875b943d366d20d80c_62.png)

然后在后面的P。

![](img/98a2e6c514aa85875b943d366d20d80c_64.png)

跟shall command的模块。这个不用再讲了吧，我们早上已经讲过了，就是第九章我们就这么。过了哈。故障排除不算不算难。其实呢。就主要是知道哎，我出问题，我要怎么查，然后我们怎么去。

去测试空运行是吧？查看这详细结果。就可以了。好，第九章结束，我们接下来剩余的时间，最后一章。