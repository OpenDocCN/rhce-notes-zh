# 【已更新】最新版丨誉天红帽RHCE 8.0系列培训视频 - P48：bash shell补充-48 - 武汉誉天 - BV1cv411q74E

看啊，你不要走神啊。好，下面呢我们来看一下。登录线和非登录信。啊，为什么会讲这两个he儿呢？啊，就是我刚刚说的问题，因为我我每次啊都去读一下这个文件层的生效，那这样不是很麻烦吗？对吧？好。

那下面我们用这个方法来解决它啊。😊，什么叫登录线呢？嗯，登录shift啊。我给大家总结了几种情况是登录线。一般这两种情况下，你先不管登录线能做什么，你就记住这两种情况下登录线。😡，好，什么登录线。

当用户登录的时候，包括图形登录。也就是说呃，你们在登录的时候，比如系统开机了，开机之后，那我在这个地方输入呃，这是不是图形登录，对吧？输入用户名个密码，那这种这是一种sha，这叫登录信，OK吧。

这叫登录信啊。好，还有一种字符界面。字符界面的话直接就是什么？直接就这种情况下。

![](img/958b1e6f67aa2c70398f48389d79769e_1.png)

嗯，这种情况下输入用户一个密码，这种也是什么？也是登录线啊，也是登录线，反正就是登录了，就是登录线。啊，包括字符界面和图形界面啊。



![](img/958b1e6f67aa2c70398f48389d79769e_3.png)

好，那么还有一种情况下是登录线尔。这种情况下SU杠注意SU杠是登录啊。

![](img/958b1e6f67aa2c70398f48389d79769e_5.png)

SU杠式登录线，注意记住好啊，记好啊。SU杠式登录线。那SU是什么呢？那反过来SU就是非登录 share。SU是非登录线啊，所以非登录线呢我也给大家总结了几种情况啊。



![](img/958b1e6f67aa2c70398f48389d79769e_7.png)

啊，什么是非登录share呢？

![](img/958b1e6f67aa2c70398f48389d79769e_9.png)

好，第一种情况啊第一种情况，这下面是非登陆穴啊。

![](img/958b1e6f67aa2c70398f48389d79769e_11.png)

嗯，有的经常分不清，然后这样。对吧这是一种登录。好，还有一种登录叫sme，他说老师这样也登过来了呀。😊，你发现这样登过来怎么样啊？加木都没有变的。那这个加木路是不是就是它的一个变量啊，变量决定的。

那变量都没有变过来啊，所以这两种线项是不一样的，这种线跟这种线要是不一样的啊。所以我们建议哪种推荐哪种呢？推荐这种SU杠minSU杠min啊。好，先记住。😊，这个呢下面这个叫非登录share。

非登录here啊。好。那么这两个的区别在于，注意SU杠addmin。我之前会经常会举个例子啊，嗯这个呢是。完完全全的变成这样一个人，就说你本来是root，对吧？

然后你变身嘛啊完完全全的变成了一个addmin。嗯，就是你从一个人变成妖怪是吧，或者变成一个神仙啊。啊，那就变身嘛好，那么第二种情况是你是不是要切换呢？你从root变成addmin，对吧？

那第二种情况就是你你变呢，你变到一半怎么样，你只变身一半，也就是说你。😡，是一半addmin，还有一半的什么root的身份。哎，就是你人嘛，你变成妖，对吧？那你变成人妖啊。😡，啊，人变的神仙。

那就什么东西啊，不知道。😡，所以这两种是有区别的啊，这个是完完整整的变成这个人。而这种情况是你还留有root的一些属性，能不能理解？嗯，这两种好。啊，等于说什么属性呢？我们后面讲啊。



![](img/958b1e6f67aa2c70398f48389d79769e_13.png)

好。那还有一种叫非登录线。注意啊，看在这里啊，就是说我在这儿不是经常会这root。

![](img/958b1e6f67aa2c70398f48389d79769e_15.png)

这样子是吧，然后登录了啊，注意哦我在这样登录的时候，是不是登录线儿啊？😡，我在登录的时候是登录系啊，然后登进来了登进来啊没登进来是吧？😊，等一下啊。好，大家登进来之后，我在地方是不是打开一个终端啊。

我打开终端。😊。

![](img/958b1e6f67aa2c70398f48389d79769e_17.png)

这个终端是不是开启了一个share啊？😡，那么这个here叫什么here呢？叫非等物he。能理解吗？叫非登录share。因为我在这儿其实并没有登录，只是打开一个终端，这个终端叫非登录share好。

记好啊，第二种情况。

![](img/958b1e6f67aa2c70398f48389d79769e_19.png)

啊，将来我们学脚本的时候我们学脚本的时候啊，我们。那个here叫非登录here。叫非登录 share，还有其他的很多很多情况都是非登录 share。那你怎么去区分，你只需要去区分它是登录线吗？不是。

基本上就是非登录信。登录信就两种情况吧，一个是用户登录和保护图形，对吧？然是SU杠。那么下面这4种呢呃基本上都是非登录 share啊，非登信。好，那么登录here跟非登录hehere我们说了。

登录here是完完整整这个变成这个人，呃，就是变身人。我刚刚举那个例子能理解吗？就完完整整的变成这个人了。你看啊我如果在这注销一下，对吧？换一个用户登录，那是不是完完整整变成另外一个人啊，对不对？

或者我在这儿SU杠。😡。

![](img/958b1e6f67aa2c70398f48389d79769e_21.png)

这样是不是完完整整的变成一个admin了呀？那我我这个he是不是就是就是admin share，对吧？😡，好。



![](img/958b1e6f67aa2c70398f48389d79769e_23.png)

那下面这种情况呢？😡，你说我说过它带有什么，带有你的富 share的一些，就是可能带有一些这个这个这个前一个用户的一些属性啊。好，那具体是什么区别？在于变量的区别。其实就是变量的区别。就是变量的区别啊。

好，那么我们刚刚讲了四呃两个文件，一个是DTC上面profile，还有一个是点bush profilefi，对吧？好，现在我们再加两个文件啊，再加两个文件。好，加两个文件。这样吧。😔，啊。

这不是有你看啊这四个文件把它列出来啊，再加两个文件，一个文件是ETC下面的。霸喜而C。还有。加目录下面的点82C。加这四个文件啊。好。而登登录线呢，它只能读到这两个文件。好，再说一遍啊。登录序。

在你执行登录线的时候，它会读到这四个文件。因为这四个文件通常是我们在放变量的，嗯，通常我们变量都会放在这四个文件里面。而非登录he呢是读不到这两个文件的，是读不到这两个文件的，看好没有？

是读不到这两个文件的啊，呃，它只能读到什么，只能读到ETC下面的把小RC和什么呃加目录下面的把斜RC。



![](img/958b1e6f67aa2c70398f48389d79769e_25.png)

好，下面我举个例子啊，举个例子。嗯嗯。嗯，我先把之前的那个哦算了，我重新定一个变量啊。或者把之前的这个先给删了啊。我们重新来好吧，重新来啊。看好啊。我先把之前的环境清一下啊，把这个删了。好。

我们把在隔壁打开一个在隔壁打开一个here啊。好，你看我这样打开一个here，这个here叫什么？这个here是不是叫非登录here啊，是不是叫非登录here，对不对？😊，好，把这个关掉啊。好。

然后再打家开一个。OK好，像这样清空了啊，然后A是没有了，然后反正都没有了嘛，呃，切到addmin。然后。是不也没有对吧？好，先清空了啊。好，现在我定一个定一个变量。😊，注意我现在全部定义的本地变量啊。

叫A等于100。😊，好，待会要回答我先这地方先不用记啊。嗯，待会儿要回答我的问题啊。😊，好，然后是这个我第一个的min吧，我在的命的加入下面。Pfi。哦，点b profile。好。

在addmin加目下面点第一个B等于200。B等于200啊，然后在。ETC8小C。霸2C下面第一个C等于300。好，然后。在aldmin加目录下面。点把小C下面第一个D等于400。好。

也就是说我在这四个文件里面依次定义了A。

![](img/958b1e6f67aa2c70398f48389d79769e_27.png)

啊，定义了B。呃，定义了C。呃，定义了D是这样吧，OK吧。啊，在这个文件定义A这个文件定一B这个文件定义C这个文件D一D好，下面来开始回答我的问题啊。😊。



![](img/958b1e6f67aa2c70398f48389d79769e_29.png)

注意，现在我们SU杠注意哦。SU杠这样吧，我再创建一个用户啊，叫U2。呃，有着三吧。😔，好，切到Uer3啊。呃，或者。嗯。慢慢来吧，好，祈祷的命。看好啊，祈祷的命。好，请问A有没有啊？A好。A有没有啊。

这样吧，我切祷的命之后，大家只需要回答哪几个有，你写ABCD就可以了啊。啊。我如果切到A的话，我切到dmin的话，那ABCD哪个有呢？ABCD哪个有呢？



![](img/958b1e6f67aa2c70398f48389d79769e_31.png)

有同学说必有是吧？我祈祷的命。啊。你思考一下，我切到的命。那么这个波浪号我是在addmin啊，这个波浪号我是admin吧啊admin就这样是吧？是这样吧。有D啊。这个都没有吗？这个没有吗？这个没有吗？

😡，O。很好啊，ABCD啊ABCDO都有好A。

![](img/958b1e6f67aa2c70398f48389d79769e_33.png)

A是不是有啊，B是不是有啊，然后是C是不是有啊，D是不是都有啊，为什么都有啊？首先第一个。

![](img/958b1e6f67aa2c70398f48389d79769e_35.png)

addmin，这是不是全局的呀？

![](img/958b1e6f67aa2c70398f48389d79769e_37.png)

这是不是全局的，而且关键是我这是什么，我这是登录谢尔啊，我这是不是登录谢尔啊，那登录谢尔，所以这四个文件是不是都可以读到四个文件都可以读到，你说有没有？😡。



![](img/958b1e6f67aa2c70398f48389d79769e_39.png)

肯定有啊。而且。这个用户的这个用户的是不是addmin啊，我就缺他addmin嘛。😡，嗯，addmin我在addmin加目中是不是定义的这个B呀？addmin加目中定义的D啊，CBC都有啊。

又又它有还有什么，又是登录线OK吧。好，那再来啊。😊。

![](img/958b1e6f67aa2c70398f48389d79769e_41.png)

退出来。退出来了哟。退出来之后，你看我SU杠那一瞬间是不会读4个文件呀？SU杠那一瞬间会读4个文件啊。好。OK那我现在退出来了哟，推出来之后我们再来啊切到。😊，我看切到谁啊。好，去到U子柚子3。啊。

请告诉我user3。哪个有？

![](img/958b1e6f67aa2c70398f48389d79769e_43.png)

Uer3，我记到Uer3哪个有啊？还是ABCD啊。okAC对AC啊AC因为user3这个跟user3没有关吧，这个跟user3没有关吧。因为这是admin嘛。

所以user3可以读到这个跟这个注意我都是登录线，所以我考虑是这个这行所以AC有啊，AC有对O。

![](img/958b1e6f67aa2c70398f48389d79769e_45.png)

好，A。B。Sa。D好了，OK吧。好，那再退出来S注意哦，退出来了哦，SU amin。

![](img/958b1e6f67aa2c70398f48389d79769e_47.png)

非登录here，请告诉我哪个有。是不是这个呀？是不是这个CABCD啊，没有ABCD了啊。

![](img/958b1e6f67aa2c70398f48389d79769e_49.png)

没有AB了AB是登录 share，我现在是非登录sure哎。我现在是非登录信儿啊，所以A有没有呢？没有B有没有呢？没有。好，C。有吧，D是不是有啊？啊，C有D有啊，因为C是全局的，全局的D是用户的。

用户刚好是admin好。SUU3，请告诉我哪个有。

![](img/958b1e6f67aa2c70398f48389d79769e_51.png)

SUU的3请告诉我哪个有。ううん。好，很好啊，C对吧？是不是只有C有啊，现在能理解了吗？现在能不能理解这四个文件了呀。😊。



![](img/958b1e6f67aa2c70398f48389d79769e_53.png)

那。啊，没有是什么意思？没有理解。那C是不是有了，C是300对吧？C300其他都没有啊，其他都没有。因为首先我是什么非登录 share，那非登录 share只能读到什么两个文件对吧？只能读到两个文件。

那么这个文件是不是任何用户都可以读到，所以C一定会有。

![](img/958b1e6f67aa2c70398f48389d79769e_55.png)

注意C一定会有。那么这个呢波浪号加点是不是只有呃的命有啊，其他用户都没有啊，U3是不是也没有。对吧user3也没有啊，所以其实很好判断。很好判断，你只要看你是登录线还是非登录线。

登录一下四个文件可以读到那四个文件首先。😊，那个那个那个那个那那个变量是定义在我的什么？反正A跟C肯定会有对吧？在登录里面，X肯定会有。那看B跟D有没有要看什么，是不是要看它是不是我的加目录啊。

是不是在我的加目下定义的，对不对？啊，那这个就是登录嘛。如果是非登录的话，怎么办？非登录share的话，那我就怎么样，我们就看这两个那就看这个是不是一定会读到，那这么这个能不能读到。

是要看是不是在我加目下面定义的如果不是那就读不到啊，其实很好很好区别啊，很好区别。😊。

![](img/958b1e6f67aa2c70398f48389d79769e_57.png)

好，那你看我这样啊，我每次怎么样啊，我我这里我看我在当前这个hear里面是不是都没有啊？😡，你要我到当前这个 share里面是不是什么都没有啊，什么都没有什么都没有，对吧？

因为我当前这个 share是没有读没有读到这四个文件的那你说老师啊，那你这样每次要读到这四个文件呃，是不是都要切换一个用户才可以读啊，哎，确实是这样那。😡，对吧你要切到一个用户。

是不是才可以读到那四个文件，是不是这样啊？啊，那你这不是很麻烦吗？那怎么办呢？我跟你说啊。😊，那我每次都要去读一下那个文件才能那个那个呀。😡，你重启了之后，注意你重启之后，你重启是什么信儿啊。

你重启之后登录进来，是不是叫登录信？😡，所以当你重启之后。你当你登录那一瞬间，你四个文件都读到了啊，当然你这个你要看什么，只要看是哪个用户了，就会你会读到四个文件。😡，啊。

那你再开启here是不是就非登录hear？嗯，开启share就非登录share对吧？好，那我在开启share的时候，非登录share。那么这个非登录share会读到哪两个文件呢？

是不是会读到这两个文件呀？😊。

![](img/958b1e6f67aa2c70398f48389d79769e_59.png)

所以在开启heer里面。在开启的序里面会读到这两个文件，对吧？那么这个文件跟这个文件是不是读不到，这两个文件是不是读不到？就是你重启之后K吧？开启一个打开一个终端，是不是只有读到这两个文件啊。

这两个文件是不是读不到啊？那意思就是说我这样打开一个终端，那打开这样一个终端。那这个终端里面这个终端是没有办法去继承这两个文件里面的变量啊。😊。



![](img/958b1e6f67aa2c70398f48389d79769e_61.png)

![](img/958b1e6f67aa2c70398f48389d79769e_62.png)

那我怎么让他去继承啊？😡。

![](img/958b1e6f67aa2c70398f48389d79769e_64.png)

我那为什么我我这个地方我打开这个终端，这个pass变量我确实继承了呢？😡，啊。这个是由什么来做到的呀？😡，这个变量明明定义在profi里面呀。那我这样打开一个终端，怎么就读到了呢？怎么就会有这个变量呢？

😡，啊，怎么会有的呀？我再打开这个终端，有没有读到ETC profile啊？😡，没有吧啊，不是因为他是全局的，是因为他是什么？是因为他是。环境变量是。我这个开启个here。

这个here是不是相当于一个子here啊？😊，其实我们所有的surere都是子 share。😡，嗯，你终端开启那个shift。他是富信儿，你有了富信儿，是不是才会有这样子信儿啊？对。

是因为子虚而继承了啊。那就我开这个终端什么呀，是不是都是因为ETC profileETC profile。😊，是不是定义的环境变量啊？对吧你在登录的时候，这个文件是不是就读到了呀？

那你后面再开启其他的share的时候，那么这些share是不是会继承这里面的环境变量啊？😡，是不会继承呢？能理解我说的意思吗？所以为什么我开启终端的时候，其实并没有读到ETC profile。

但是它也有那个pass频量啊，是因为怎么样？是因为pas频量继成了，它的子序里面都可以有。哦，OK吧。嗯。而且我bush一下，注意，其实我在bush的时候，这个它就是一个非动 share。

在这个非灯芯里面，为什么也有什么？也有pass变量啊，因为它怎么样继沉了。对，这样依次往它继沉了啊。

![](img/958b1e6f67aa2c70398f48389d79769e_66.png)

好了吧，这四个这个能不能理解了，可以理解了吧。这两个是不是登录shaar的时候啊，呃就所有的share都可以读到，对吧？呃，这两个是什么？登录shaar的时候才可以读到啊，登录share才可以读到。😊。

好，有有一点点复杂啊。其实呃这个为什么给大他家讲这个呢？就是因为将来你定定义变量的时候，一般我们都定义在哪个地方啊？比如说你要定义环金变量了。😊。



![](img/958b1e6f67aa2c70398f48389d79769e_68.png)

如果是全局的对吧？是不是定义在ETC profile里面啊？啊，如果是如果是什么？如果是用户的那就定义在什么点b是什么profi里面啊，是不是这样啊？好，那么你像我们啊定义别名，别名其实也是一种变量。

只不过这个别名比较特殊。一般你像我们别名它会定义在哪里呢？它会定义在呃，你看你的加目下面啊。在你的夹目下面。诶。在你的加目录下面会有一个点buRC的，你看这里是不是会有别名啊，对吧？别名啊。

我们考试就一道这样的题目，还要求你定一个别名。就像我刚刚呃刚刚给大家出题那个那个作业里面有一道题，我说定一个别名。好，但是我要求如果说所有的用户都可以读到。一般我们别名啊。

如果是用户的就定义在这个文件里面。如果是全局的就定义在ATTCbu2RC里面啊。😊，嗯，也就寄存在ETC小2C里面啊。O吧，就定义在这个地方。呃，定义在这个文件里面都是都是OK的。所以。呃。

因为如果你定义在ETC profile里面的话。嗯，那么有些时候他的信有的信读到的。嗯，能理解吧，因为那个变量啊。不是那个那个那个别名啊，你怎么让别名变成环境变量呢？所以这个变变不了啊。

所以呢呃我们一定把定义在这个pro呃把小C里面，这个所有用户都可以读到。如果是某个用户都读到，就加目下面的点把小C。嗯嗯，好。

所以你只要记住定义全局的别名在ETCbRC定义用户的别名在点bu记住就好了啊。啊。嗯，好了，我们来看一下这张图啊，我给大家画了，我给大家画了一张图。



![](img/958b1e6f67aa2c70398f48389d79769e_70.png)

在这里看到没有？嗯，然后这里有个登录shaer可以读到这四个文件，对吧？然后非登录shaer是读到这两个文件，而且他们之间是读是有顺序的。嗯，你知道为什么刚刚那个用户的变量比那个呀。这怎么少了一个？嗯。

用户的变量为什么比那个呃用户的环境变量，为什么比全局的环境变量要要那个要。这个怎么搞？啊，看这里啊，你如果你是登录he的时候，它有个顺序，就是你登录heer会读到什么ETC呃ETC profile。

然后再读到是不是加目下面的点呃，加末点 profile。所以如果你在这地方定一个A等于什么？你看如果你定一个A等于100。😊，嗯，那么这个地方也定一个A等于200。那你说它最后的值等于哪一个呀？

最后值是不是肯定等于A等于200呀？因为这个是不是相当于覆盖了呀？这个没问题吧，因为是先读的这个再读的这个啊，然后再开始操作bu对吧？而且读到这个呃波浪号下面的点bu为什么会读到这两个文件。

是因为这样这样这样这样就连过来的。呃，它有个读读取顺序，这样读取顺序啊，所以才会有这样的优先级。嗯，然后读这个文件就会读到这个文件跟这个文件是吧？然后非登录系呢，它就直接读到什么加目下面点把小C。

而且这两个是先读这个再读这个，所以这两个就反过来了，还先读加目下面点把小C，然后再读什么ETC下面的点把小C。所以当你去定义。😊，呃，这个。这个这个点8小2C和ETC下面8小2C的时候。

你就要你就要注意了，他们两个不一定定义在加目下面的就优先级高，不一定定义在这个下面就优先级低。所以这个要看读取顺序的啊，要看这个读取顺序。OK吧。啊。这张图怎么偏了？好，那。这个没什么问题了吧。

没什么问题，我们就挂了啊，然后你们以后就这四个以后变量放在哪个地方，应该没问题了吧。好。呃，这就是我们这张内容啊，后来给他把这个呃这个。几种hear是吧，定义在哪个文件里面，这几个文件给大家讲了。

后面就要用了啊，后面就要去用一下，好吧，正好这章讲完了，我们下课休息一下。呃，下面呃下节课我们就。等会就开始下一章了啊。好。嗯，下课休息啊。



![](img/958b1e6f67aa2c70398f48389d79769e_72.png)