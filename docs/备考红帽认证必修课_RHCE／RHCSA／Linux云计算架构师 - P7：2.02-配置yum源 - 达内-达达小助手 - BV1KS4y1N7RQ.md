# 备考红帽认证必修课_RHCE／RHCSA／Linux云计算架构师 - P7：2.02-配置yum源 - 达内-达达小助手 - BV1KS4y1N7RQ

![](img/ff94f112f87a5d5ce2c5cacd1dd20538_0.png)

看，来咱们回来接着开始哈，那刚才我们给大家讲过的是呃，第一道题目是吧，就是配置我们的网络地址，那考试的时候呢，你把第一个机器配好网络地址之后啊，然后第二个操作一般就是建议大家呢要配好一个软件源嗯。

考试考试的时候呢，它会有一个到站的一个题目啊，会有一道这样的题目嗯，因为像我们两个虚拟机，他第一个虚拟机可能会专门有的题目让你去配，但是下午的时候呢，他可能不一定有这个题目啊，但不管他有没有。

你反正这个事你得做啊，你不做的话呢，你没法做哪些包啊对吧，那题目的要求呢就是说你这台虚拟机如果想装软件的话，你需要去找到下面这两个地址，然后要做什么呢，要配置你的虚拟机。

把这两个位置作为你这台虚拟机安装软件的一个来源，是不是叫软件源啊，那对于红包的系统来说呢，你要装软件包，它需要提供一个软件仓库，这个软件仓库对于客户来说，那就是给他提供软件的一个地方嘛是吧。

所以有时候我们在配置的时候也把它叫软件源，那如果我们在设置一台linux主机啊，我们有时候说软件源，软件仓库其实指的是一个东西，除非你是在提供这个仓库对吧，否则的话呢我们指的是一个东西啊。

然后在那个系统里面呢，后面装软件包的时候用到了一个命令叫y u m，其实在红包八的系统里面啊，它是更新了一个版本啊，就不叫y u m的，叫dnf啊，这个大家了解一下啊，但是呢大家仍然可以用y u m。

因为它和我们那个y u m是兼容的，就后面大家直接用dnf去装软件包也是可以的啊，然后你用那个y u m也是可以的，但是不管你用y u m还是用那个dnf啊。

它首先你需要去给他指定你的软件包在哪里对吧嗯，那原来的这个y u m是啥意思啊，是叫一个叫什么黄狗升级器啊，什么yellow dog update modified，叫黄色的。

yellow dog叫黄狗啊，update升级啊，modified就是修改版的啊，是这么来的嗯这个呢从红帽五五开始是吧啊，一直到567不都在用这个吗，所以相信大多数同学都是已经习惯用这个的。

所以咱们后面的资料呢也都是啊，也都是在那个呃用的这个vm，但大家后面用的时候可以改成dnf啊，这个以后大家可以练习一下，然后刚才大家有问的这个笔记啊，正好有时候我们随随堂讲的时候。

有时候会更新一些东西吗，所以更新的任务呢我们会给大家放到我们的那个，就上次给大家发的不是有一个微信公众号嘛是吧，所以会在这里边直接更新啊，那大家看的时候呢，你只要关注那个微信号就行了。

我好像是那个公告里面有一个地址对吧，大家只要关注那个微信公众号云网小课堂啊，然后右下角笔记获取就能看到咱们这个班的笔记资料啊，能看到咱们这个班的比较资料，那个资料的话呢，这样方便大家去找啊。

要不然每天每天都讲，然后资料在不同的地方呃，放起来的话，那也麻烦，我给大家看一下啊，就是通过这个微信公众号呢，这是这是我编辑的页面啊，就大家通过微信公众号里面看的时候呢，应该是有一个这样的一个页面的。

这里边资料比较全啊，包括我们那个csa的备考笔记，什么都在这里，包括上次我们的那个考试说明啊，啊包括前面配网络地址，配m的一个快速演示啊，都能够找到啊，所以这是一个资料的一个获取。

好咱们再回到我们刚才这个样本仓库这里了啊，嗯那如果我们要装软件包的话呢，需要有一个仓库是吧，那对应的这个样本仓库题目其实很简单，就是给你两个网址啊。



![](img/ff94f112f87a5d5ce2c5cacd1dd20538_2.png)

但是呢我们需要去把它给配置好啊，需要去把它给配置好。

![](img/ff94f112f87a5d5ce2c5cacd1dd20538_4.png)

那配置的时候我们需要了解什么信息呢，就是在linux系统里边啊，红帽678都这样的是吧，它对应的一个核心的一个工具啊，暂时咱们就当亚美来做啊，那亚姆他要装软件包。

正常的安装软件包的方式就是install这个y u m一般我们读作ym那样，m install就表示安装后面跟上软件包的名字，比方说我们提了好多次，我们要做一个什么net tos网络工具包是吧。

装了这个包之后，你才有那个什么if看v的啊，没装的话，那没有的，但是呢你在装的时候，你你得有缘啊，如果如果没有一个软件源给你这个包，你是装不上啊对吧，那那就不行，他会告诉你。

there are no enabled the rap，就没有一个启用的能够给我们提供软件包的一个地方，那如果你希望有的话，怎么办呢，啊题目告诉我了是吧，有这两个网址。

那现在的问题就是我这个机器我怎么知道是去找这两个网址，去要软件包，所以大家要了解这个命令它的配置文件怎么去设置啊，那对于ym来说呢，它的配置文件主要在两个地方，一个就是etc下的样m。

com f这个文件，这个文件最核心的一个作用是控制yu m这个命令，它的全局的一些行为的，那大家用我们之前讲过的那个vi编辑器，你可以去打开是吧，打开看里面你看就几行。

比方说他默认他要求做那个软件签名检查，看一下这个软件包是不是这个操作系统官方发布的，对不对，或者一个软件作者官方发布的，如果不是，他是拒绝安装的啊，这是默认的一些设置都在这里啊，那其他的咱先不管了啊。

那除了这个文件以外，还有一些文件在哪里呢，是在我们的etc下面有个亚m。rebels。d在这个目录下，那这个目录下面呢其实是有一堆文件，就允许我们管理员创建一堆文件，它的扩展名是点rap。

那这样的文件呢就叫做我们管理员自己定义的，你的软件仓库就软件来源在哪里，你要通过这些文件去设置，嗯，其实咱们这个环境里面，你你可以发现他已经有一个叫red hat，点rebel是吧。

但是这个文件呢基本上是连红帽官网的啊，你可以用vi去打开这个文件去看一下，或者你用cat先直接阅读一下也可以，你会发现这个文件的里面全都是井号开头的是吧。



![](img/ff94f112f87a5d5ce2c5cacd1dd20538_6.png)

那这个大家注意啊，在linux命令行环境，包括它的配置文件里面，如果是井号开始的部分，99。99%以上的可能性啊，它的含义是说明这是一个注释注释，就是写了一段话告诉我们，都告诉我们管理员这是干嘛的是吧。

他不会真正发挥作用的啊。

![](img/ff94f112f87a5d5ce2c5cacd1dd20538_8.png)

这个也要知道，所以其实这个文件呢你会发现那好像都没用，没有一个有效配置，那这个井号就好像我们执行一个什么l l s命令，你可以直接l l s命令是管用的，你前面要是加个井号，那就不管用了对吧。

所以是把后边的命令不起作用啊，这叫注释注释的一个标记啊，那因此呢刚才我们所说的亚姆这个配置，这个圆这配置其实啥都没有，对不对，他有个文件，但是里面不起作用啊，所以我们得自己创建一个圆的一个配置啊。

那大家考试的时候呢，你可以直接改这个文件，或者呢我们另外创建一个文件也是可以的啊，啊就是答题的时候你怎么办呢，要找到这个目录，在下面创建一个文件，这个文件名称随便写，但是扩展名必须是ipo啊，注意啊。

扩展名则是这种啊，要不然他找不着啊，你可以选一个1l8 ，这叫企业版linux 8是吧，扩展名叫i e p o啊，用vm编辑器打开或者说叫创建这样一个文件回车啊，大家要是不熟悉vi的话。

应该在我再给你回顾一下啊，今天执行这个命令，可以打开一个新文件，然后默认叫命令模式，要按一下i键进来进入编辑状态，然后在编辑状态里边去指定啊，按照题目要求你要找哪一个圆对吧啊，当然在这个仓库配置里面呢。

它有一些基本要求啊，这个大家要知道基本要求的格式是这个样子的啊，啊需要用于对方括号括起来里边要给它起个名字，这叫仓库的标志，还有一个叫i d啊，仓库的i d叫标志，你如果有多个仓库呢。

要有多组方括号对吧，你可以仓库一仓库，1号库，2号库嘛是吧，你可以有很多个仓库指向不同的地址，你谁谁也不能说我这个主机我只能从一个地方做软件包啊，啊我可以从好几个地方做软件包是吧，所以要有一个仓库标志。

在仓库标志里边呢啊我们下面有常见的设置是这些啊，有一个叫name等于是用来描述一下这个仓库用来干嘛的，一般就是写一段话啊，那一会儿我们用的时候呢，你可以来查询一眼就知道诶，这个仓库是用来干嘛呢是吧。

那标志这一块的话呢，一般不建议大家用空格什么的啊，但是描述这里边可以对吧，嗯仓库这个标志呢也不要用特殊符号，不要有空格，就很简短的啊，那仓库描述的是一个详细的说明，是一个详细的说明。

然后最核心的是这个base，这叫基本的访问地址，你要指出仓库的那个圆啊，它的软件包来源在哪个地址能能找到，那这个其实就是我们考试的时候要求的这个地址吧，对不对，那有两个仓库地址，你要配两份仓库。

要有仓库，一仓库，啊然后你这个仓库现在是建好放在内做样子的呢，还是要启用呢，有个配置叫enabled，这叫启用，enable等于一就是启用，如果你设置1=0，那就是暂时暂时先不用啊，我就是做实验的是吧。

我暂时先不用，那这叫enabled，呃然后还有一个叫gpg check啊，这个就是用来做软件签名检查的，软件签名检查啥意思呢，就是检查你这个圆里边啊，你这个仓库里面给我的包。

我要验证他是这个仓库官方发布的，如果不是官方发布的，我不敢装啊，那万一里面有病毒咋办是吧，所以有这样一种机制啊，啊所以大多数情况下提供软件的那个官方，它会给我们一个密钥啊，一把钥匙。

你通过这把钥匙呢可以去验证这个软件包是不是官方，巴不得，对吧，像红包官方也会有啊，但是如果因为做软件包签名检查，这会耽误时间，如果你确认你不需要这个检查，你可以设置gb机械表等于零，这个速度就快对吧。

咱们上午的考试呢没有要求做这个签名检查。

![](img/ff94f112f87a5d5ce2c5cacd1dd20538_10.png)

所以大家你就怎么简单怎么来啊，特别是我们刚开始考试进这个虚拟机的时候，那那个操作还用微软语说大家用的不太方便对吧。



![](img/ff94f112f87a5d5ce2c5cacd1dd20538_12.png)

所以简单怎么简单怎么来啊，考试没有要求，但是如果你要用g p t k等于一，那下面必须跟一个g p g k指定那个钥匙啊，等于什么什么从哪个地址能找到啊，当然我们这里写了个井号去掉了啊。

加个井号就是注释，就是给大家给大家展示这个用法啊，那如果你用gp check等于零，那这一行是不用的啊，所以按照我们这个题目要求，我们看一下怎么答题啊，题目要求就给了我们两个网址是吧啊。

那一旦我们在考试的时候，你已经连到这个机器了嘛，那不就vi打开这个文件，往里边写方括号，指定仓库的名字，还有那个标记，这个标记题目如果没有要求你随便写对吧，一般我们就参考他那个名字写一个贝斯os。

你如果愿意，你就写一个aa也行，对不对，但这个有点随意啊，但是大家我们可以直接用，建议大家用的比较比较规范一点，一般用那个软件资源那个目录的名字，然后下面给它起一个类目描述，如果你不讲究的话。

也用这个名字也可以是吧，好然后你被10u l这个必须有吧啊b c u l从哪来呢，考试的时候建议大家复制好复制链接地址，你考试的时候在那个红包图标打开之后也是可以复制的啊，因为你是远程过去的嘛是吧。

你如果是通过那个控制图标进的虚拟机显示界面里边啊，你可能不方便复制，但是你远程s3 h过去是可以的对吧，来粘贴，这是第一个地址啊，然后那个enabled这个大家如果想偷懒的话呢，你就不用写了。

默认enable，你不写就是启用，是因为大家有时候有些同学这个你要是背的莫属，不写的时候就是没写错啊，enable后面有没有的是吧，那不知道不知道咱就不写了，你敲的越多越人出错哈。

呃然后呢gb check jpg check啊，这个你得写，你如果不想当检查呢，你要写个零啊，写个零为啥要写零，危害肯定，然后我保存退出一下，因为它的全局配置文件里面j p g check是一啊。

如果你那个那个地方你也不想写，请大家把这个文件这个地方改成零，那也行，那有这功夫咱就已经写完了是吧，所以大家一般改这个文件的时候呢，你就加一条gbk等于零，这样的话这是第一个仓库的一个配置。

那第一个仓库配置做完之后呢，你可以那就可以复制了嘛，对不对，复制四行，如果大家你vm用的图的话，直接四dd把光标移到第一行，我4d不是不是dd是dd，是删除四yy就复制四行是吧，你再粘贴也可以啊。

然后你远程的话，你可以鼠标复制上更更方便是吧，不管你为数不数，那复制一段去创建第二个仓库，来写一个a b b c g am换个名字，对吧啊，注意啊，你如果有多个仓库，这个仓库的名字不能一样啊。

必须区分开，不能重复啊，然后第二个地址再复制粘贴呗是吧，其实你仔细看一下，就是后面这个名字不一样，你要是怕写错啊，怕写错就复制粘贴啊，这就是地址对吧，那就配完了，配完了，然后按e sk不键回到命令模式。

然后冒号到末行模式，输一个w q保存退出，那你配的这个圆好不好用呢，咱们要检查一下，你可以执行rap list，这是列出可用的仓库对吧，那这个是只是检查你仓库能不能看到。

然后能不能找到里面有多少个数据包啊，嗯有多少个那个软件包啊，所以这里是检查的一个状态，如果你发现执行的时候中间报错了，那没别的原因，就是你那个仓库配置文件写错了是吧，错在哪，那就有各种错误了哈。

可能你这些少个方括号啊，或者这个地址写错了，连不上啊对吧，就可能出各种错误，但是如果你的是正常的话啊，大家执行这个操作的时候，你要看到这样一个结果，你能够看到有这两个仓库，这下面就是一个仓库列表吗。

对不对，就一个仓库列表，那那就建完之后，你要看到这个列表下面有两行，这就是一个仓库的i d，这就是这一类啊，就这个内幕那个描述，就刚才我们给大家讲过的内容。

就是描述啊前面这个方括号里边就是id的一个标志，所以大家检查的时候呢，唉这个地方就是啊第一点右边中间这个呢就是描述，是不是就是你设置好的是吧，那右边这个状态呢是它连接到那个圆之后。

它能够查到的软件包的数量，能够看到这个基本就没问题了，那装软件包怎么做啊，正好咱们刚刚不是缺好的包吗，那建议大家顺便就测试一下啊，要in all啊，高y呢是自动确认啊，自动回答yes啊。

要么杠y install就是安装软件包的一个基本方法，然后后面跟上你要装的软件包的名字，比方说咱们渴望已久的明天行的自动补齐是吧，那个叫bh completion啊，这个这自动补齐的包。

然后还有我们缺少那个什么if config呀，root的限并令对吧，有个叫net tools啊，还有做那个dns域名查询的host的那些命令对吧，那这个呢用的是什么，有一个叫b，杠us对不对。

那其他的比方说包括那个vm，有些同学可能用vm用习惯了，你可以装一个vm啊，in h你直接写vm也行啊，你可以把这些包装一下，然后你观察它的一个过程啊，如果这个过程没问题，那这个包就就已经装上了。

同时也说明你的这个软件源设置设置是正确的对吧，一举多得啊，一举多得又验证了你这个装包好不好用，又验证你这个圆好不好用是吧，顺便把我们缺少的包给装上对吧，那装完之后呢。

呃大家久盼盼望已久的那个tab键补齐，我们是不是可以去tb一下试一下啊，enable system control啊，你发现不好用不好用吧，你看inb补不出来，那为啥呢。

因为你刚刚安装的这个bh completion啊，它还没有生效，如果你希望在生效的话，请退出去重新连一下，重新连一下，你再来敲sm control是吧，再敲emma table，好用了。

哎这是解决我们这个环境的问题啊，考试的时候，如果你缺包一样，缺啥补啥就行，前提条件原要设好，那包括刚刚我们前面讲过的nm cla，你看cn table是吧，s h table全都出来了。

那如果你要去修改连接的配置，然后你可以connection modify，然后en table你看连接都能推出来，i p v4 method table是吧，按menu。

然后ip v4 点addresses是不是都可以table啊，这还是蛮好的蛮好的嗯，然后有同学问的那个等后面加不加空格是吧，等号前面后面不加空格都行啊，都行啊，就刚才我们说的这个亚美元的一个设置啊。

ok，嘻嘻嘻嘻嘻，就刚才我们说的有几个包是吧，一般建议大家安装的，我好像上次讲过哈哈拜血杠completion啊，还有什么net down tos vm enhanced是吧。

还有什么bgu xx就在这个包呗，那这几个包的一个作用啊，我给你写一条，以后要加到笔记里边啊，嗯分别从左往右是自动补全的，就是安装，是什么意思，自动补全的包是吧，然后还有一个是网络工具包。

还有一个是vim编辑器，再一个是那个dns查询的，考试的时候好像vm好像没装呃，自动补齐，我忘了，这这这个无所谓啊，你反正到时候你用呗，用完不好用就装呗。



![](img/ff94f112f87a5d5ce2c5cacd1dd20538_14.png)