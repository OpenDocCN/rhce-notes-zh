# Redhat红帽 RHCE8.0认证体系课程 - P56：56_Video_Day09_Ch02b_Ansible临时命令_软件包模块 - 好好好二狗 - BV1M3411k77W

来我们来看一下软件包模块，软件包模块它的一个主要作用呢，就是安装或者卸载软件包，前提是软件仓库肯定要存在的。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_1.png)

对不对，然后仓仓库和定存在，然后呢，重点讲起一个东西啊，软件仓库young repository，这个我们考试里面会有考的好，考试里面会有考的好，这个是软件仓库模块，好啊。

我们的手我们手动方法是不是直接在e d c，然后要点rap等于d里面，然后建一个叉叉叉点rap的文件，这这名字是可以自己定义的，对不对，这个没有问题啊，但是我们现在到了ensable了，那我们不可能啊。

每台机都直接去复制去敲，但如果你可以复制啊，你可以复制粘贴，我这个不反对没问题啊，但是说我们还是用自动化的方法考试，有一道题，用shell脚本来写你的那个受管主机软件仓库啊，好我们来看一看啊，如何来。

如何来啊，如何来创，我们来先看一下rap rap啊，young repository的常用参数，其实是不是跟我们的那个样本文件啊，要么文件差不多，对不对，我们的样本文件的basil软件仓库地址。

软件仓库地址，然后还有呢我们的description的描述，对不对，enabled是吧，请做我们的启用我们的软件仓库啊，启用，然后呢fire是保存的文件名，通常它我们是叉叉叉点rap。

然后前面的叉叉叉对不对，然后jpg check就是否进行一个完整性的认证啊，验证g b g k呢就提供我们的完整性的密钥啊，但这个密钥是一个文件来的，通常我们gp区等于check等于一的时候。

我们才需要我们，这是我们的常用的一个参数啊，是不是跟我们的那个，跟是不是跟我们的那个rapper文件有点像，对不对，那好我们来看一下例子，在红帽八里面，我们是记得我们说过是不是有两个软件仓库的。

一个b sos，一个f string，对不对，但在七里面就只有一个好，那我们以八为例子啊，我们这里的话在no的意识里面，我们来创建跟挂载软件仓库，首先我们创建一个挂载点啊，我们就从无到有啊。

考试它是有给你指定的一个软件仓库地址，你直接写就写shell脚本挂，就把它加上就可以了，那我们这里的话我们模拟一个过程，就是挂本地软件仓库来，单色bo node 1，我就以node一的意思。

node待会留给时间啊，给给时间给自己做啊，你们自己做啊，example。com node一点lab，example。com杠，我用fire是吧，我们生成一个目录，state等于directory，可。

对不对，我建一个目录，然后我要挂载一个镜像。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_3.png)

我看看我的note一啊，我note 1，我这里我有没有挂件啊。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_5.png)

确认一下，其实看到上面有个光盘，我就知道肯定挂了的。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_7.png)

我们这里还是要确认一下，自己弄的时候还是要确认一下对吧。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_9.png)

这个光盘还挂在这里呢对吧，我们录的一好。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_11.png)

那我回来回到这个地方，然后还有我们的一个插销来，我们用mt的方法啊，mt这个模块，md模块呢它的参数的话简单讲一讲，就是我们的source pass以及fs type以及state就可以了。

这个我们待会不会再讲，但是我这里会说一遍。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_13.png)

帽子模块杠a，我们的来源就等同于我们的md命令，懂我意思吧，其实这个临时命令我们用模块用参数，我们是不是可以转化成我们的一个shell命令啊，懂我意思吧。

那我们的source呢是我们的光驱d e b s20 ，我们的pass就是我们的挂载的目标是mt iso，我们刚才创建的一个目录，然后呢我们的fs type要加上去啊，我们光盘的文件类型iso 960。

这是光盘的一个权限文件系统啊，叫iso 9660懂吗，它是一个标准来的，然后state，等于multi，sat等于multi。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_15.png)

那么这样我们就把它挂上了啊，他有一会帮我们写到fs tap里面，看到没有，他的fs type，他会帮我们写。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_17.png)

那我们接下来我要我要创建软件仓库。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_19.png)

同样是note一点。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_21.png)

left in sup。com，我们模块要rap啊，不要拼错啊，rap theatory啊，然后呢添加，比如说我要添加一个base和dream，其实我们试过，就是说我们后面可以连续添加几个没问题。

但我这里为了保险啊，一个个来添加来，我就添加几个啊，红帽八的b sos，然后呢，description我们描述信息。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_23.png)

basil，我们的基础url，basil就是我们的一个样源的地址，fire我们用文件协议mm t i o里面的bao s，我们挂了本地源，然后呢，enable等等于1g pg check等于零。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_25.png)

state等于present。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_27.png)

回车。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_29.png)

这帮我们已经创建了一个软件仓库，rapper名字已经看到了。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_31.png)

对不对，好，我们再把这个改，把我们相关的描述改成string，因为我们红帽八要两件两个软件仓库的，这里啊注意fg它的目录是有区分大小写的。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_33.png)

创建完成，然后验证是不是我们验证，我们看一下。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_35.png)

用cat命令我们来验证。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_37.png)

要点rap。d，然后呢h e8 base os。rebe，然后etc要点rap。d h e l8 f dream，点外号。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_39.png)

看一下是否有没有写错，no such fine direct，怎么写的，h e l8 哦，少了个点，都有了是吧，都有了。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_41.png)

ok那我们证明我们的软件仓库已经写了。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_43.png)

已经写成功了，这个点如果ok的话啊，这点如果ok的话，请打l yummy repository，如果明白了，现在还有这个考试，会考这道题的就大就加到shell脚本里面就可以了，懂我意思吗。

考试一模拟题面，包括正式提出这个配文仓库的题目。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_45.png)

![](img/9b5d5218b3c1d100ebb462c76a80ba34_46.png)

那我们也可以做走一个认证啊，我们验证的话也可以走一个啊，但是他会用样的话，我们有个方法的，但是我这里的话我暂时找不到要压rap list，我记得有价格低吧。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_48.png)

有这个d enabled的，他这里的话他用样模块要模块去做啊，要模块我们可以查一查，可以验证的啊，你中了什么问题啊，分开两个文件里面，我可以同时查看这两个文件的内容啊，懂我意思吗，这，里什么意思啊。

我看一下，你是sr 1，他应该是sr一吧，现在图可能选cross，他应该是那个你是光驱，应该是s一吧，我记得是改了是吧，multippermission denied，没有权限写fs tab。

你这个fs tap是没权限，你看一下你的天选设置，我这样的话我们是有一个啊，我们有一我们有一个样模块，我们是可以看的啊，我劝一下用animable dog，这v亚，我们可以看我们的那个rap list。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_50.png)

没有他我他既然提示了enable rap。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_52.png)

我看一下。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_54.png)

这是一个启用的list。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_56.png)

是可以的。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_58.png)

我试一下。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_60.png)

我就不用样样rest了，用样模块，杠a list等于rap，他对不对啊，它压模块的话，它是有那个列出来的一个哦。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_62.png)

有了有了这样也行啊，通常我们验证啊，我自己加一个。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_64.png)

![](img/9b5d5218b3c1d100ebb462c76a80ba34_65.png)

对吧，验证的话我们可以这么验证的啊，list等于report，这个是更规范的，如果你直接用那个shell命令，他会给你警告啊，能明白吗，在验证啊。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_67.png)

这一块明白的话我们讲一样啊。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_69.png)

讲完的话我们今天也差不多了，讲完一样的，差不多系统模块，我们明天讲时间差不多了。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_71.png)

然后呢我们来看一看，我们来看看一个啊样貌，要么模模块我们来安装卸载更新组，安装和升级都可以用它，然后呢要么模块我们主要参数是name state，两个参数name在后面加软件包名称。

state是它的状态是更新啊，更新啊，安装啊，还是版本啊，还是卸载啊，对不对，对吧，我们的状态我们的那个样的话，我们可以state里面可以这么多，那我们现在来为note做一下例子。

待会留时间给大家做note 2好吧，首先我们给node一安装http t服务啊，http t这个考试肯定会有的啊，来我们开始ensable，我们前提我就配玩样源啊，前提你要配完样本，你才要安装啊。

不然的话你更有点麻烦的啊，来exo node一点lab。example。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_73.png)

点com杠m，我们用样模块杠a带参数，name等于http d state等于present，它就会自动帮我们装了，懂吗，你前提你样配完啊，你的样本配完，他就可以帮我们装了，你等等，稍等一下，看状态。

其实通过n s5 feat，通过我们的事实，它会反馈一高文，结果你们看看是吧，他的已经状态已经发生改变，达到目标态，然后它的result它安装了哪些包，他都会告诉你懂我意思吧。

所以这个其实是不是很方便了，我们所有节点我推下去，一次性可以安装完，而且我不需要一台一台去敲，懂我意思吧，一条命令通俗，这是enerable的一个好处，然后呢卸载就f3 楼。

相当于我们dnf杠y remove，对不对，卸载我们把刚才装的东西删掉，我反悔了，我不装，这糊了来，要等一定时间了，那它你会发现它只剩两个包，因为跟他不相关的，他都不会去动。

他只删了一个mode http 2，还有h t t p d这两个软件包，这是卸载能明白吗，第三个我们的祖安装，也就是我们要装整个包是吧，考试时候也会有涉及啊。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_75.png)

我们就装一个像mia db，记得我们的组安装，这里是name，这里我们加个引号，这就是我们为什么前面要加双引号，外面装加速2号的原因啊，maria db，记得在组前面组名前面加一个at。

然后用引号括起来，然后我这里是写present，present的意思就是存在生效的意思。

![](img/9b5d5218b3c1d100ebb462c76a80ba34_77.png)

他就是里面包含的mary dv，所有的组件它都喊不了，全部都装上了啊，看到没有，所有的model mary db全部装完这么多东西对吧，然后更新，更新啊，我就像在dnf杠y update。

我们用latest就可以了对啊，如果说他题目有要求说啊，考试题目，如果抽题目有要求说，我所有软件都更新到最新版本，那我们这里的话用通配符星对吧，然后state等于latest就可以了。

然后他就会帮我们所有安装rpm，所有的包安，把它更新到最新，是为什么现在拿新土豆呢，所有软件都是最新的了对吧，如果像内核这些的话，如果你也介绍一个，比如说我们8。2的样源啊，像这58点，对不对。

如果他有8。2的话，他肯定会有更新的，懂我意思吗，如果这个明白的话，请按m，接下来一个随着练习，最后时间我不讲不讲其他的啊，系统模块明天讲，学他练习，我刚才在努力做了，现在请你再note 2做战斗。

等二配置样本软件仓库，然后试一下安装，可以吧，今天我们内容先到这儿啊，就不再讲，但是笔记我已经提供了，笔记已经提供，我再保存一个副本啊，你叫他来我家，我还有我还有个，你买哪台啊，你看看整天掉坑是吧。

你干了啥啊，好我把笔记共享一下，然后视频呢晚点啊，视频晚点啊，剩下时间给他做练习，有疑问可以提问啊，今天我就不再讲了，然后明天开始我们还有三天的时间，还有三天时间，我们的课程是到五点结束啊。



![](img/9b5d5218b3c1d100ebb462c76a80ba34_79.png)

今天是到六点，明天4~5点了哈，所以剩下时间给大家做练习，两点习题有疑问可以问好不好，今天先讲到这儿，因为我怕大家塞的东西太多了，还有一个用户模块，就就我们的系统模块。

还有一个那个我们的u i i模块没讲，然后明天才有，明天讲的主要是几个内容，一个是把我们第二章讲完，还有就是我们的paybook，对啊，我们的剧本的写法，还有一个就是变量，事实明天的内容就这次这么多。

两张多的是两张多，内容都是重点啊，那接下来请大家做练习。