# 【誉天孙老师主讲】Linux入门／红帽认证／RHCE 8／RHEL 8.0／Linux基础视频 - P11：文本处理工具＜2＞ - 誉天孙老师 - BV1Dr4y1A7jz

好，王家良第一个。好，嗯，那时间到了，我们就开始了。还有一些同学还没上来啊，我我不等人的啊，你到时间点我们就开始啊。你们自己看着办。错过了，没听没没没没听上，不要让我再说讲一遍了啊，我讲过了。

这个设计时间把握好，好吧。嗯，O那我们继续啊，上午我们大概把这些命令呃给大家。讲了一下是吧？这张主要是文本处理工具啊。重点是吧，我们每一节课基本上都是重点啊，当然这张也比较重要。

它对于我们去处理文本内容啊，写脚本呢。都是有非常大的帮助的。好，呃，我们讲到SED了是吧？然后前面都讲完了啊，SED我们从SED开始啊。好，再说一遍啊，再说一下这个SED啊。

SED呢它是一种这个流编辑器，呃，它其实呃功能非常强大啊，它的原理呢大概是这样子。跟大家说一下啊，早上其实说过了是吧？它的原理呢就是他他每次就是读一个文件的时候，它会将这个文件读到缓存里面。

然后你所做的更改都在缓存里面，因为这个命令它是可以修改文本内容的。之前我们学的命令都仅仅是在输出里面输出的时候，输出终端的内容是吧？然后做了一些呃修改。那这个文件它是可以修改原文件的对吧？

那它也不修改原文件的话，就是对内存里面数据进行修改，然后将内存里面数据打印出来。啊，大概是这样子啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_1.png)

![](img/c92d06896ca302abee7c0f185b1f7c98_2.png)

![](img/c92d06896ca302abee7c0f185b1f7c98_3.png)

啊，那如果你对这个原文件修改要加个杠I啊，就直接提修改了原文件啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_5.png)

啊，它可以查到替换，对吧？然后不改变原文件哦原文件，但是你可以加杠I去修改原文件。

![](img/c92d06896ca302abee7c0f185b1f7c98_7.png)

好，后面是这个SED的一些这个选项啊，选项。好，我们来看一下啊，那我举个简单的例子，比如说我想去打印第五行，那我就打印第五行嗯5P。啊，第五批。这样子。哎，就打印了，对吧？但是你看我们打印的出来内容。

哎，怎么这么多呀，对不对？我们说过了，你打印的时候，它会将怎么样，它会将我们的这个呃。

![](img/c92d06896ca302abee7c0f185b1f7c98_9.png)

![](img/c92d06896ca302abee7c0f185b1f7c98_10.png)

文本原文本内容也会输出呃，这样缓存里面也会输出，所以输出了两次啊，你要加一个杠N。哎，这样的话只是将缓存里面的第五行打印出来了。所以加P的时候，一般情况下。也要加个杠N啊，这样才能看到我们打印的效果。

好。呃，杠恩呢就静默的意思，不输出模式空间里面内容，对吧？

![](img/c92d06896ca302abee7c0f185b1f7c98_12.png)

啊，杠I呢是呃直接编辑文件，默认是不对原文件进行操作的。就比如说你想去删除第五行。

![](img/c92d06896ca302abee7c0f185b1f7c98_14.png)

删除第五行对吧？那。如果你不加这个杠I的话，它就不会删。它只是在输出的时候删了。那修改原文件就就就就什么杠I就修改了啊，后面我们会讲到啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_16.png)

哎杠一，如果你有多个条件，它们中间呢用杠一连接起来。比如说我又想去打印，又想去删除，又想去做这个，又想去做那个对吧？那么他们之间就可以用杠一来连接，它可以连接多个多个命令啊，多个命令。好。

然后呢还有杠R杠R它是扩展正则表达式啊，记得上午学的呃gra吗？gra上午学的Egra对吧？gra杠E那这个都是支持扩展政则的啊。SED同样也是支持的那SED呃前面的内容那个政则表达示支不支持呢？

也是支持的OK吧。好，所以我们之前学正在表示在graip这里都可以适用啊，都可以适用。好。嗯。这里有有一些例子是吧？嗯，好，我先看一下啊。好，这样吧，我们来看一下啊，对这个文本进行操作。

但是这个呢这一页指的是这个对地址进行对地址选选择地址的啊。好，我们用这个打印来举例啊，用打印这个来举例啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_18.png)

啊，你看啊第一个呢。嗯嗯。

![](img/c92d06896ca302abee7c0f185b1f7c98_20.png)

第一个这个地方是一个井号，井号代表是数字指定要处理的行。所以这个地方这个数字这个五就是井号的位置啊，就是井号这个地方啊，当然这个地方你也可以空一格，这这都都可以啊，就空空格也可以，不空格也可以，O吧。

好，这个是地址地址范围内啊。如果不指定制地址的话，那么就打印整篇文章，打印整篇文章啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_22.png)

![](img/c92d06896ca302abee7c0f185b1f7c98_23.png)

好，然后你看啊你要打印do了符号，do了符号指的是这个呃表示最后一行那。SED还可以是吗？后面可以接多个文件。呃，如果是多个文件的话，那么它为什么？为最后一个文件的最后一行啊，所以我们可以用多了。

你看多了符号。

![](img/c92d06896ca302abee7c0f185b1f7c98_25.png)

你看多了符号指的是最后一行，看到没有？多了P指的是最后一行啊，我们这个文件的最后一行应该就是这个又就是admin，看到没有？就是admin啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_27.png)

好呃，然后还有什么？还有这个地方你可以接正则表示。接正则表达式啊，那能够表示能够被这是叫正则表达式REGregularex。啊，匹配到的行对吧？基于政则表示的匹配啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_29.png)

好，我们举个例子啊，SEB杠N然后你把它引号引起来，你这样啊，你这样养成习惯。啊，你看这边就是打印对吧？然后这边是这个这个这个嗯呃打要要要要查看的文件。然后那我们如果是正格表示，中间有两个斜杠。

中间就用正格表示。那右边这个就是PP就是打印，对吧？好，比如说打印root带root的行。那你看。嗯。带有root的好像是不是打印出来了，对吧？这个太多了，我修改一下啊。我的删了。好。这样子看到啊。呃。

SED杠N是吧，然后呢打印出了这个root。嗯，然后P是吧，root这个匹配正在表示式就这一行当中有root的就给你打印出来。那这里有个root，这里有个root对吧？打印出来了啊。好。

就是你还可以这样吗，你看我们之前学的正在表式不有间号嘛，已root开头的行，那么是不是就是已root开头行，你还可以呃与什么什么结尾嘛，这都可以用，O吧，都可以用啊，还可以用什么，还可以用中括号。

中括号是之前学过了吧？啊，中国好比如说ABC。嗯。唉，之前是这样子是吧，以ABC开头的那。这是不是跟gra是一样的呀，对不对？跟gra是一样的啊，所以在这个地方它也是适用的。ok吧。

这个是匹配特定的行啊，匹配特定的行。😊。

![](img/c92d06896ca302abee7c0f185b1f7c98_31.png)

啊，然后你还可以在前面呃那。匹配到的打印出来啊，这个呢就是这个表达式政则表达式我就不多说了。好吧，就之前学过的，还有之前还学过什么，还学过什么基本政则这种是吧？



![](img/c92d06896ca302abee7c0f185b1f7c98_33.png)

嗯，还有学过这种。呃，这种都都学过都是学过的啊。好。

![](img/c92d06896ca302abee7c0f185b1f7c98_35.png)

嗯，这个后面要加个杠I杠I那是指PK的时候，忽略它要写。

![](img/c92d06896ca302abee7c0f185b1f7c98_37.png)

呃，如果我写一个大写的。比如说我在这儿写一个。嗯。我写一个大写的root是吧？然后SED这样去打印的话。他会不会把大大写的打印出来呢？没有是吧？然后我们就可以加一个I。哎，这样的话就大写就出来了。

看到没有？那就大写看吗？

![](img/c92d06896ca302abee7c0f185b1f7c98_39.png)

匹配大小写就是忽略大小写的意思啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_41.png)

好，嗯，还有一种情况就是呃比如说啊我想去匹配什么呢？我想去匹配这个呃bush share，就是这一行里面是带bush share的。呃，它的登录信为冰bsh，就是带这个的可以吧？呃。

它的这一行当中是带有这个bebsh这个关键词的，就这一行啊，但是这个文件当中呢，比如说我是这样去打印它的话，那你斜杠斜杠这样子是吧，是不是写的bin呃bush？是这样吧。然后。你再把它引起来。

那你这样写的话。P。然后password你这样写是不是会有问题啊，对不对？哦，是因为这个斜杠，你看这有个斜杠，这有斜杠，这个斜杠本来是指你看这外面这个跟这个是不是要中间要匹配一个关键词，对吧？

匹配一个正态表示，但是这个里面是不是也带斜杠啊，那我们用什么呀？我们可以用这个呢反斜杠。反斜杠反斜杠指的是什么意思？反斜杠指的是去除这个后面这个字符的特殊含义。后面这个斜杠字符是什么特殊含义呢？

是不是指匹配正的表示外面跟它是一样的对吧？所以我要想让这个斜杠原样输出的话，那么我就在它的前面加上一个反斜杠O吧？反斜杠指的是去除这个斜杠的特殊含义，让它以斜杠原样去匹配，呃，就匹配斜杠啊。回去了。

那这样是不是就可以匹配到了啊，匹配到bebush跟bebsh，对吧？好，但是这样写是不是感觉哇，这看着很乱，对吧？所以它还有一种方式，它还可以这样写啊。也就是说在这个地方我可以怎么样啊，我可以随便写那。

这也是这个地方，这个这个这个这两个摆分号你可以随便写嘛，你也可以写at艾呃，井号井号你都可以写啊，然后再写上beingbu。这个也可以达到效果，这个就是避免为了什么？避免你的关键词当中是有这个斜杠的。

看到没有？有斜杠O吧，这个就可以用井号来代替，但是前面要加一个这个啊，前面要加一个这个反斜杠，O吧，加个反斜杠啊，就这个。



![](img/c92d06896ca302abee7c0f185b1f7c98_43.png)

那这个反斜杠，然后中间加正在表示。好，用这种符号去代替啊。好。呃，括号应该不行啊，它括号不是这个意思。然后另外这个这个这个版分号可以用别的来代替是吧？好，这个是第五个啊第五个，然后再来还有第六个。

第六个就是介着呃界定这个地址的范围。地址范围的话就是第一行到第三行，那就是第一行到第三行这样子啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_45.png)

第一行到第三行。好，然后还有比如说嗯你还可以这样，第一行到。呃，到匹配有root的行。嗯，这样也可以。那这样也可以啊，匹配到有root的行，这也可以，好吧。或者是这个你可以嗯。呃，user是吧。

到root。呃，这样也可以，好吧，就是这个关键词出现的行到这个关键词出现的行。

![](img/c92d06896ca302abee7c0f185b1f7c98_47.png)

啊，就这样都可以啊都可以。或者是呢就下面这个一个匹配的行到另外一个关键词匹配的行啊，中间的行都打印出来。呃，好，这个是这个地址范围啊。啊，还有一种这个叫一啊，这个波浪号啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_49.png)

呃，波浪号的话就是这样的，如果是一。呃，逗号啊，不一波浪号2一波浪号2，这个一波浪号二指的是什么呢？指的是呃从第一行开始呃，隔一行打印一次。就是步长是2这样子，步长是二啊，隔一行打印词，这样步长是2。



![](img/c92d06896ca302abee7c0f185b1f7c98_51.png)

OK吧。那那就打印的就是第一行、第三行、第五行点点点第七行这样子啊。呃，还有这个还有这个地址到这个地址的范围是吧？加恩就是指定行以及。呃，以后的N行。呃，这个是指定行开始的DN行。



![](img/c92d06896ca302abee7c0f185b1f7c98_53.png)

这个就简单说一下吧，好吧。嗯，就逗号对吧？加5指的是。第一行。呃，然后再数往下数12345，从这行算起，从这一行算起。那如果是一呃。去减吧。啊，拨浪号是吧？拨了号5。



![](img/c92d06896ca302abee7c0f185b1f7c98_55.png)

12345。呃，从指定行开始的N行是吧？

![](img/c92d06896ca302abee7c0f185b1f7c98_57.png)

这两个没啥区别。哦，这里是12345是吧，数错了啊。😊，这里是六行，那就是说这第一行下面十五行，那这个是第一行，下面这一行算了是吧，这五行包括这这第一行啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_59.png)

好。呃，这就是选地址范围啊，地址范围。呃，在哪个范围内做什么操作，好吧，这就是。基本上包括了所有的这个地址范围啊。好，那么我选上地址范围之后，我能做什么呢？我可以打印，对吧？我刚是不是打印啊。

一直在打印，对吧？那我还可以怎么样啊，我还可以删除删除啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_61.png)

好，SED那删除的话就不要杠N了，不用杠N了，OK吧。删除的话就不用杠N了啊。好，然后这样啊引号引起来中间是不是你要做做什么事情，对吧？pasword。好，那么删除第几行呢？删除第二行。空格D。

这样就删除了，OK吧，第二行删掉了，那一行有大体字母，那一行我就得删掉了，对吧？那剩下内容是不是输出OK吧，剩下内容是输出的啊，看到没有？剩下内容是输出的。好，或者你删除，比如说。一到第五行。那。

1到5前面就没有了。我记得前面是什么root呀，addmin啊什么之类的，是吧？那1到5就没有了啊，删除啊，删除的时候不要加杠嗯，听到没有？因为它默认只是输出这个这个这个这个这个呃模式空间。

就是那个缓存里面的啊，缓存里面的。啊，这个是删除啊，删除。那原文件有没有变呢？注意原文件是没有改变的，你怎么原文件才能变呢？杠I原文件就变了，OK吧？杠I原文件就变了啊，杠I回去了。好，前五行没有了。

看到没有？呃，root那一行没有了，OK吧。好。嗯，再来啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_63.png)

嗯，这个DD会了吧，删除哪一行的哪一行啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_65.png)

不能撤不了啊啊，有同学说老师，那你这个删了怎么办啊？能撤销吗？撤不了怎么办？因为你怕删掉之后就没了，是吧？好，那你就这样，PCpasword到这儿覆盖一下啊。好，那么你怕他删错，你删错了，对吧？

那你最好是不是保留一个副本呢？保留一个副本，对吧？稍等一下啊。好，保留副本，我怎么保留呢？保留呢？我就SED。SED哦。杠I点BAK看到没有？然后。嗯，一逗号5D。然后password啊。

那么杠I我们说是修改原文件，对吧？那么点BAK是什么意思呢？指的是啊当你去修改原文件的时候，这个是不是真的要修改了？因为杠I嘛，那么。呃，修改完之后，password就第一到第五行删了。

而且它会帮你保保存一个副本。这个副本的名字叫password点BAKOK吧。好，那们试一下啊。这个下面就会生成一个password点BAK看到没有？然后打开这个pasword点BAK看。是不是原文件？

没有变的那个文件啊，就是原文件，它就给你保留一个副本。就是如果你怕真的做错了，对吧？你还有一个备份的一个文件。如果你真的修改原文件了，原文件是没有办法撤销的，OK吧，撤不了啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_67.png)

好，这是D啊D。呃，下面第三个AA后面加一个斜杠test，指的是A是指追加追加呃，表示在匹配的行。呃，匹配到了行之后，这家内容是吧？好，那我们来看一下啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_69.png)

呃，我想在第二行。我想在第二行追加一个这个。嗯，追加1个ABC好吧好。那就第二行2。然后A是吧，然后反斜杠ABC。回去了。有没有啊有吧，看到没有？第二行的。下面追加1个ABC就追加进去了。

然后你写个杠I，它就写进去了，它就写进去了啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_71.png)

啊，我就不写了，好吧，我只是让它输出一下，看一下。

![](img/c92d06896ca302abee7c0f185b1f7c98_73.png)

啊，这个是怎么样？这个是这个追加啊，追加看到没有？先写地址，注意你先写地址，然后。

![](img/c92d06896ca302abee7c0f185b1f7c98_75.png)

怎么样？写完地址之后写个A啊，这样这个你写空格也这个空格，就你加不加空格其实也还好。因为地址范围嘛，你要么你就是用数字，要么就是两个斜杠，对吧？啊，所以这个你空也可以，不空也可以啊。好。

那你还可以写个杠II呢就是插入，那就是在第二行，也就是第二行的前面，那就它就会变成ABC就会变成第二行，对吧？回去了。啊，那它就变成第二行了，I就是插入插入啊。



![](img/c92d06896ca302abee7c0f185b1f7c98_77.png)

怎么啊？一直给我送花。哦，就是一一前一后啊，行前行后。啊，还有第呃第五个第五个就是。呃，C是吧，C是指替换改变改变了啊，就是说嗯我想。



![](img/c92d06896ca302abee7c0f185b1f7c98_79.png)

我真的想把第二行换掉，把第二行换掉。第二行本来是什么呢？你看一下啊，第二行是不是就叫呃这个叫下下down的，是吧？下当的是吧？好，把第二行换掉啊，那就是C。回去了。好，那第二行下档那一行就没有了。

就替换掉了，O吧，就替换掉了啊，把第二行给替换掉了。

![](img/c92d06896ca302abee7c0f185b1f7c98_81.png)

啊，这是C啊这是C。好，再来啊。呃，第六个第6个啊SS呢是指替换查找替换吧，记得吗？我们之前学VM的时候S查找替换的啊，然后这个是我们要。呃，替换的内容。这个是什么替换成什么内容？

其实你这个地方就写上什么old new就行了。对吧说白了就是old new嘛。但是我觉得他这个写的更规范一些，为什么呢？因为它这是一个正策俩事。正字表达式嘛，就是你可以写具体的某一个单词，某一个字符串。

也可以写一个正字表达式，能理解吗？嗯，写个正字表，把这个正字表达式就给替换掉啊，然后这个是替换成什么？然后后面可以加一些加一个，比如说可以加个什么啊，比如说全局替换，回回顾一下VIM里面是吧？

然后如果全局替换的话，这一行全部替换，是不加个G啊，唉，SED也是这样，默认只替换这一行的第一个。啊，OI呢I也是这样，I是指不区分，它要写就是。你只要想起VM怎么用用怎么用的SED这个地方就怎么用。

嗯，然后P呢就是指如果成功替换则打印。呃，如果成功的话就字打印出来啊打印出来。好，我们来试一下啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_83.png)

呃。SED。嗯，然后password是吧，然后中间是这个我要做的操作。好，我要S呃查找替换是吧？查找root。呃，替换成。呃，AAA好吧，好，然后呃这个这个后面也要写个斜杠啊。

就是这个地方你后面不加东西，你也要写斜杠，这个地方也要写啊，也要写。

![](img/c92d06896ca302abee7c0f185b1f7c98_85.png)

![](img/c92d06896ca302abee7c0f185b1f7c98_86.png)

啊，回去了。呃，这个地方本来就没有root了，是吧？看一下啊。哦，原文件被我给替换了，所以这个地方是没有root的。好，再来啊。哦，这样这样的话，你看root就替换成了AAAA，对吧？

那root就替换成了AAAA啊。好，那么这个地方这个root是没有替换呀，对不对？所以我们就要加一个什么加一个Gglobal嘛，这一行的所有都替换。那这一行的所有都替换啊，A好吧。

然后呃I的话我就不举例了吧，I就是忽略大小写嘛，大写也替换，小写也替换都替换。好吧，这个是忽略大小写啊。🤧嗯。啊，什么意思啊？嗯。对对，就或者大家写啊。好，你这个地方是不是可以是一个正则表达式，对不对？

是一个正则表达式啊，然后替换成某个具体的这个这个这个字符串啊。好，所以我就用root来表示的啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_88.png)

啊，GIP是吧？好，这个记住哦，后面我会很多例子，然后呃很经典的例子啊，然后让大家去学会这个查找替换的呃用法。嗯，好，先先先放这儿啊，先放这儿，后面我再说好吧。



![](img/c92d06896ca302abee7c0f185b1f7c98_90.png)

嗯，我看这个P是干什么的啊？P。哦，P1好像打印了两次是吧？P打印两次哦，这样啊啊，你这样你加个杠N。哦，你看。看这儿啊，我刚刚如果批的话，他是不是又把原模式空间那边我打印了一遍？所以。我就加杠根。

然后只输出什么，只输出替换的那一行。你看这样是不是更清晰清晰一些，只显示替换的那一行嘛，对不对？嗯，它跟它合并，就是你只要要打印了，注意啊，你只要打印了，那么你请前面加个杠N，否则你就会打印两遍啊，对。

匹配对匹配替换的那种打印啊。就加P一定要加什么，一定要杠加杠N啊，否则你看全部都有，这有一遍。只有两边对吧？有两遍啊。好。



![](img/c92d06896ca302abee7c0f185b1f7c98_92.png)

嗯。还有啊还有第七个第7个啊。第七个是W，后面加上一个文件名，它可以将匹配到内容指定到某个文件里面。

![](img/c92d06896ca302abee7c0f185b1f7c98_94.png)

好，比如说我想把这个嗯。我想一下啊。这样吧，我把这两行。呃。好，这样啊。我先搞简单一点啊，一逗号2像第第一行跟第二行呃，W就保存第一行1到2第一行跟第二行。

然后W是保存保存到root下面的呃这个呃root下面的test呃。test01好吧，保存下这个文件啊。就是W就是另存文嘛，对回车。啊，然后你打开。这应该有一个test。异议。怎么哦。

这sorry这东西我加了一个空格啊。那保存过来了吧。我为什么这地方有个斜杠呢？那为什么这个地方是因为我这个后面加了个空格啊，它把这个空格也打印进来了。那他把这个空格也算成这个文件的文件名了。

所以这样把它去掉2这样啊这样回程。😊，好。然后你你你可以怎么样，你可以加个杠N嘛。我看杠N是不是可以不用输出，看到没有？要不然他全部就输出一次OK吧，全部输出一次啊。好。

那么这个文件test02里面就是第一行跟第二行OK吧。啊，这个是把什么什么另存为哪里哪里啊？

![](img/c92d06896ca302abee7c0f185b1f7c98_96.png)

好。嗯。OK了吧，这张过了啊呃我每个都给大家演示了一遍啊。😊，啊呃这个地方有一个地址的说明啊，地址说明来看一下啊。我们过一遍啊。呃，注意事项，如果没有指定地址。

那么我们的这个命令将会用在每一行每一行对吧？比如打印不指定第几行，那就每一行都打印啊。如果只有一个地址，那么命令则应用这个地址匹配的行。就是有一个地址就匹配那个地址的行码。然。

如果如果用逗号隔开两个地址，那么表示运用在这第一个地址跟第二地址之间，是吧？啊，如果地址后面有感叹号。那么。还有感叹号哎啊表示命令将不应用于匹配到的行。这个就是反选嘛，这是不是就是反选呀？



![](img/c92d06896ca302abee7c0f185b1f7c98_98.png)

就除了第一行到第二行。呃。加感叹号。这样子。然后嗯再来。太402。你看是不是除了第一行，第二行，其他都都写进来了，O吧，就加感叹号啊。😊，这地方你加感叹号，就除了这一行到这一行之间，就写到这个文件里面。

这这跟哪个系统没关系啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_100.png)

都适用。嗯。啊，呃OK这地址注意事项啊。这边有一些例子啊，我给大家写了呃，我特地给大家写在这个地方是吧，怕大家记不赢啊，那打印第五行对吧？然后打印最后一行，打印行第一行到第五行，然后root的行呃。

不不我忽略大家写，然后带root的行对吧？同上这两个是一样的啊，你看我这样举个例子，用可以用版分号来代替，是吧？😊，然后这是删除第一行到第五行，这个是备份了是吧？将原文件修改完之后，备份一个文件。

把搜点BAK然后这就是在第二行下面插入ABC。OK吧，在第二行下面插入ABC啊。嗯嗯。啊，来了哦，还有一些案例哦。你看我给大家找了辛辛苦苦找的一些例子啊。啊，查找替换的这个还要不要我说。

这个是我之前说过的是吧？如果演示过了啊，SEDS把nse替换成hello后面接文件名，但是只替换这一行的什么第一个nse对吧？第一个nse啊，然后SEDSG这是不是替换所有这一行所有的nse都替换。

那么这个一指的是我只替换第一行的所有的nse替换成hello是吧？然后这个这个呢这个指的是什么？这个就是呃呃第一行的第一个nse是吧？然后这个是什么？唉，看好哦。



![](img/c92d06896ca302abee7c0f185b1f7c98_102.png)

看这里啊。SED。呃，杠N是吧，先把打印出来。啊，我们最终要把打印出来，把替换的行打印出来啊。啊，我想把S呢就是把root呃root注意root替换成AAAA。然后我想全局替换，我是这样替换的，对不对？

是不是这样啊？呃，你看这三个都替换了，对吧？但是我就有特殊怪癖是吧，要求我就想替换什么，第二个就想替换第二个哟，回去了，看到没有？第二个就替换了。看到吗？就后面你可以指定替换哪一个。

这个VM我不知道能不能做到啊，我没有试。什么东西好。卡吗？其他同学呢。啊，这个地方就指定替换第这一行的哪一个啊，指定替换那这行哪个。



![](img/c92d06896ca302abee7c0f185b1f7c98_104.png)

🤧嗯。好，下面是利用替换来巧妙的进行删除内容，而不是删除行，而不是删除行啊。好，这下面的例子很经典啊。好，看第一个。



![](img/c92d06896ca302abee7c0f185b1f7c98_106.png)

DF杠H哎，我记得有之前有同学是把这个呃。这个什么给截取出来了呀？呃。他把那个。26的质积出来了是吧？嗯，多了多了5。啊，他把这个26就给截取出来了。然后我说呃26%，然后我说要你要截什么。

要截这个26啊。嗯，同学们来告诉我啊，入 card怎么去截这个26。来快速告诉我card怎么去截这个26啊。啊，用什么呀？用什么来截啊？cut。指定什么为分割符啊？指定呃。算了，我自己说吧。啊。

百分号是不是百分号啊？百分号为分隔符，然后第几个呀，是不是第一个呀？这样是不是就截取出来了，对吧？但是这种我一看哇就好就感觉呃这个没什么技术含量是吧？一看就看清楚了。

但是另外一种你换成SED也可以实现啊。SED呢就可以用什么查找替换。查什么呢？呃，他可以将这个呃比如说啊他把这个百分号要替换掉是吧？那就S查找百分号。然后替换成什么呀？空。看到没有？空就什么都不写。

回去了也实现了，看到吗？然后这个百分号是不是指的这个百分号对吧？差个百分号，然后后面这个里面没有写嘛，就没有写，没有写的话，就是空嘛，空就是把它去掉了，相当于把它删掉删了删了啊，是一样的。好。

运用这种技巧的话，我们还可以来实现一些更高级的功能来看一下啊。好，呃那我现在呢想把这个文件的第一列，就这一列看好哟。这一列全部给删掉，不要了，全部删掉哟。第一个就是说第一列就第一个字母。

每一行的第一个字母我都要删了，不要了。每一行的第一个字母都删掉，不要。怎么做对吧？好，看好啊，眼睛不要眨啊。啊，那你同样也是不是要这样去做？那最后我想把它打印出来，那我就杠N。

最后我要写个P把它打印出来是吧？是这样吧，我先想好吧之前的内容，然后剩下内容是不是要去做删除了，对吧？好，那删的话，我们针对怎么删呢？第一，它只能删除行，OK吧？好，那我想删呃这个这个第一个字母。

那我就可以用查找替换查找。😊，替换或键把什么插找成什么，替换成什么呢？啊，还记不记得我们有一个间号啊？间号指的就是开头的意思，把开头的。呃，好。这样吧，我们先说另外一个啊，说到这了。

我们可以在这个文件里面前面加一个注释，就是我们之前是用那个VIM来实现的，是吧？啊，那加个注释就在第一第每一行的前面加个注释，那我就可以把。最扛手换成。井号回去了。看到吗？啊。而且你还可以指定什么？

你还可以指定第几行，比如说1到第1行。S回去。然后你再加一个什么，再加一个我加一个I，你就实现了什么修改原文件了。所以你还VM是吧，不用学了是吧？😡，O。所以。你看这个SED功能非常强大啊。

这就是巧妙的运用我们这个什么查找替换来去实现删除字符串。对，删除字符串啊。好。因为前面是不是可以匹配行，你想匹配哪一行就匹配哪一行嘛。那后面就是你要做的事情，对不对？啊。

那刚刚我们说到是在最前面加上一个井号。那如果说我想把第一个单词给删掉呢，就是说第一个R删掉B删掉，D删掉，现在你会了吗？R呢RBD这些第一个字母给删掉啊，其实也很简单。

只需要我们匹配第一个是不是通过什么？通过这个呃井号，但是井号第一个字母怎么匹配，我怎么去匹配第一个字母而，井号点点代表是任意字符。记不记得啊正则表示当中点是不是代表任何一个字符啊，无论这个字符是什么。

它就是任何一个字符啊，你是A也好，是什么也好。好，然后回去了。一呀。我神了吧。你加个杠哎呀。删了两次啊，删了两次，我把原文件给替换了。



![](img/c92d06896ca302abee7c0f185b1f7c98_108.png)

你看我把原文件给替换了一次啊，刚刚。

![](img/c92d06896ca302abee7c0f185b1f7c98_110.png)

刚刚执行了个I，对吧？啊，然后杠N的话，你看它是不是就是把第一个字母给删掉了呀，对不对？啊，看懂了吗？这个。



![](img/c92d06896ca302abee7c0f185b1f7c98_112.png)

好，这个我例子也放在这儿了啊，大家可以去用一下，而且插好替换的时候哦，这个地方哦，这个例子跟这个例子是一样的，是吧？哦，我就重复写了啊。哦，哦这个不一样不一样啊，这个是删除是吧？

这个是将这个nose第二个nose这一行第一行的第二个nse替换成空，就是将第一行的第二个nse去掉，那去掉空嘛就去掉，对吧？好，我们刚刚实现了什么删除每一行的第一个字母，我们删掉了。

那下面还有一个更复杂的，看到没有？更复杂的哟。

![](img/c92d06896ca302abee7c0f185b1f7c98_114.png)

好，我们这个也来试一下啊。呃，我想。你看啊。嗯，他是我的。然后我想干什么呢？我想把这个每一行的第三个字母删掉，那我怎么去匹配第三个字母呢？S。对吧啊，匹配第三个字母呃，第三个字母是怎么匹配？

是不是这样点点点。这个地方是不是就第三个字母，那这个地方是不是第三个字母，第三个点是不是就第三个字母，对吧？然后。把它替换成什么呢？啊，这样啊，那我替换成什么东西呢？难道替换成点点吗？

你这点点代表什么呢？好，所以我把这个前面这个地方呢用个小括号把它括起来。小括号括起来。小括号括起来啊。好，小括号因为在地方会有特殊字特殊含义，所以我们需要把它特殊含义去掉，加感叹号，不是加个反斜杠。好。

那么后面我们是不是我这样写啊，斜杠一啊，斜杠一指的是什么呢？它指的是我们小括号括起来的。因为我们小括号括起来作为一个作为一个整体，我们这件正则表示当中。



![](img/c92d06896ca302abee7c0f185b1f7c98_116.png)

有这样一个吧，那小括括起来，是不是做一个整体，做一个单向处理，对吧？

![](img/c92d06896ca302abee7c0f185b1f7c98_118.png)

那么这个。这个反斜杠一呢指的就是小括号匹配的第一个小括号回去。第三个字母就删掉了。你看本来是OOT。那OO只是T就没了，只剩OO了。没问题吧。本来是有个T的是吧，所以就把第三个字母给替换掉了。

不知道大家看懂了没有啊？😊，好，我再说一遍，我就不说了啊，没听懂就你就没听懂吧。😡，啊，这个点点是不是指的是么？指的是不是前两个字符，以什么什么开头嘛，然后这不是三个字符嘛。

然后我用我把这个点点是不是用小括号括起来了，作为一个整体，对吧？然后替换成什么？替换成斜杠一，斜杠一指的就是我小括号括起来第一个字符啊，第小括号括起来第一个项那小括号括第一个小括号括起来的内容。OK吧。

就是7杠1啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_120.png)

好，这是一些比较经典的用法啊。嗯。还有还有一个下面是吧，下面还有一个。但这个是什么？哦，删除每一行的第一个单词是吧？每一行第一个单词哇，这个也比较经典是吧？你看啊呃我我带你看一下好不好？

第一个单词是不是以什么什么开头，对吧？第一个单词嘛，然后单词是不是以单词是以什么开头？单词是以字母开头？那我认为是字母开头，然后这个是指什么？这个是不是指一个一个单词的开头。

然后这个是指一个单词的结尾对吧？然后这个地方这个是什么？这个是不是指我匹配一个字母啊。😊，啊，然后这个星号是不是匹配呃0到多次匹配0到多次，对吧？然后以字母开头以字母开头以字母结束，中间有若干个字符。

OK吧，中间有若干个字符啊，然后那就那这个就是把第一个单词删掉，你自己去试吧，好吧，或者我帮你执行一下也可以。



![](img/c92d06896ca302abee7c0f185b1f7c98_122.png)

比如说把第一个单词删掉。好，看到没有？第一个单词就没有了。那就冒号前面是一个单词嘛，第一个单词就没有了啊。啊，就够了吧。



![](img/c92d06896ca302abee7c0f185b1f7c98_124.png)

不说了啊，说多了也记不住。O。好呃。呵。绕晕了是吧，下次不讲这么多了，我看他绕晕了啊。😊，好了，说完了SED说完了啊。呃，当然SED的功能不仅呃不止如此啊，它还有呃其他的一些功能。如果你们想对吧？

再深入去学习，这个你们可以再去找一些资料去学习一下。我就讲这么多，不说多了啊，说多了你们大家都晕了。好。这是一些比较经典的，你你你就把这些弄会了就行了。那我就过了啊过了啊。好。嗯。

SED这块呢我们分了几部分啊，分了几部分命令，对吧？然后选项选项大概用的比较多的就是杠N杠I杠E杠R。如果用到用到了扩展正则的话，那你就要要用杠R了啊。比如说。什么时候用到扩展正则。

你还可以这样SED杠R，对吧？比如说或者我们在用的时候，我们可以比如说呃root或者什么或者user替换成什么什么东西，对吧？能理解吧？就S吗。



![](img/c92d06896ca302abee7c0f185b1f7c98_126.png)

No。呃，或者这样的话它就能识别到什么？识别到这个树干嘛，就或者的意思，然后把这个替换成哎这样子啊，就就需要就需要用到这个扩展工则啊，扩展动则。



![](img/c92d06896ca302abee7c0f185b1f7c98_128.png)

嗯。你们晕了是没听懂还是还是怎么回事，还是觉多了晕了。我讲的你们都听懂了没有啊？你不需要消化，你只需要看我演示就可以了。嗯，怎么这么多事儿呢？给你们讲多了，又说多了，有想少了有些少了是吧？嗯。好。嗯。

这东西讲一遍，你能听懂就可以了。你还想把它记下来，这个很难，好吧，这个不太可能，除非你是那个。除非你你你的记忆力超强，否则你这个。想接下来。好了，那我把它关了啊。好，就说到这儿了啊，就说到这儿了。

SED。

![](img/c92d06896ca302abee7c0f185b1f7c98_130.png)

反正我都是讲了你们。我我我我应该每个例子我都给大家演示了，而且每一部分我都给大家解释了。嗯，如果你觉得自己没跟上的话，你就在看视频。嗯。再去下去再复习一下。呃，其实我基本上我讲了一堂课，你可能要花。呃。

两遍或者三遍的时间要去把它补回来，然后要然后去才能才能去消化，才能去慢慢哦感觉是那么一个意思了啊，那你上课的任务就是能看我演示，看我能把每一部分给你解释了，你知道哦，是这么回事就行了。嗯。

因为这内容太多了，我没指望大家去记住。嗯。你想气死我吗？你不用肯定会忘记啊，但关键是什么？关键是你要把这些例子要记下来，用的时候拿回去怎么样啊，拿回去就就嗯，到时候直接用就去查。对啊。

用的时候直接查就行了，都没没没指望大家要去记住它，因为这东西太多了，不可能记住的，包括我也不可能记住，而且我要去用的时话，我要我可能要去查，你只要有笔记记下来，这是为什么你要你们要去记笔记。😡。



![](img/c92d06896ca302abee7c0f185b1f7c98_132.png)

这就是这个作用啊，对吧？你要你要知道有第一要知道有这个东西。第二，你要有记录。你要知道大概我们其中我讲过这些选项，讲过这些正策表示，每个是指什么意思，这些你知道就可以了。😡。



![](img/c92d06896ca302abee7c0f185b1f7c98_134.png)

废话不说了啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_136.png)

嗯就看这个我我交了，那你们后面怎么样，就靠你们自己的造化了啊。哎哎哎哎哎，怎么又点到摄像头了？好了。嗯。Mhhm。好。PPT不是给大家做好了吗？你看我为大家想的。😡，这么周到是吧，例子也给大家举好。

每一个都解释说好，然后还有可以你全部演示出来。我就没见过像我这么好的老师了。啊嗯，那我们继续啊。

![](img/c92d06896ca302abee7c0f185b1f7c98_138.png)